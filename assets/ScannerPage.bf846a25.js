import{d as S}from"./QBtn.3f1239db.js";import{c as E,a as D,h as k,g as x,r as i,o as R,b as K,I as m,Q as I,W as t,J as _,X as B,L as n,K as s,N as p}from"./index.4e9d4ce7.js";import{h as w}from"./render.b04fa27c.js";import{u as N,a as P}from"./use-dark.e008c968.js";var v=E({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(r,{slots:a}){const l=D(()=>`q-card__section q-card__section--${r.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>k(r.tag,{class:l.value},w(a.default))}}),y=E({name:"QCard",props:{...N,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(r,{slots:a}){const{proxy:{$q:l}}=x(),f=P(r,l),d=D(()=>"q-card"+(f.value===!0?" q-card--dark q-dark":"")+(r.bordered===!0?" q-card--bordered":"")+(r.square===!0?" q-card--square no-border-radius":"")+(r.flat===!0?" q-card--flat no-shadow":""));return()=>k(r.tag,{class:d.value},w(a.default))}});const T={class:"fit flex flex-center"},Q={class:"q-pa-md"},O={class:"q-gutter-md"},j={id:"symbology"},A={id:"data"},H={__name:"ScannerPage",setup(r){const a=i("Error"),l=i(""),f=i(""),d=i(!1),g=i(!1),h=()=>{b()?(b(),a.value="Scanning started"):a.value="Error: startScan function is not available"},q=()=>{};function M(){DLBarcodeMgr.setProperty(BcdPropIds.WEDGE_KEYBOARD_ENABLE,!1),DLKeyboardMgr.enableTriggers(!0)}function C(c){a.value=c}function b(){C("Scanning started."),document.getElementById("symbology").innerHTML="&nbsp",document.getElementById("data").innerHTML="&nbsp",g.value=!1,DLBarcodeMgr.startDecode(SCAN_TIMEOUT)}return R(async()=>{const c=e=>new Promise((o,L)=>{const u=document.createElement("script");u.src=e,u.onload=o,u.onerror=L,document.body.appendChild(u)});try{await Promise.all([c("/lib/dl_barcode.js"),c("/lib/dl_keyboard.js")]),console.log("Scripts loaded successfully");const e=1e4;try{M(),window.initScanning()||(g.value=!1)}catch(o){o instanceof ReferenceError&&o.message.includes("_DLBarcodeMgr")&&(console.error(o),console.log("ERROR: DLBarcodeMgr not injected. Barcode scanning functions may not work as expected."),alert("Error: DLBarcodeMgr not detected. SDK calls may not work as expected. For full functionality, use a Datalogic mobile scanner and the latest version of Enterprise Browser.")),o instanceof ReferenceError&&o.message.includes("_DLKeyboardMgr")&&(console.error(o),console.log("ERROR: DLKeyboardMgr not injected. Barcode scanning functions may not work as expected."),alert("Error: DLKeyboardMgr not detected. SDK calls may not work as expected. For full functionality, use a Datalogic mobile scanner and the latest version of Enterprise Browser."))}window.startScan?(a.value="startScan is available",g.value=!0):a.value="Error: startScan function is still not available"}catch(e){console.error("Error loading scripts:",e),a.value="Error loading scripts"}}),K(()=>{}),(c,e)=>(m(),I("div",null,[e[3]||(e[3]=t("h2",null,"Datalogic Barcode Scanner",-1)),t("div",T,[d.value?B("",!0):(m(),_(S,{key:0,color:"white","text-color":"black",label:"Start Scanning",onClick:h})),d.value?(m(),_(S,{key:1,color:"white","text-color":"black",label:"Stop Scanning",onClick:q})):B("",!0)]),e[4]||(e[4]=t("hr",null,null,-1)),t("div",Q,[t("div",O,[n(y,{class:"col-12"},{default:s(()=>[n(v,null,{default:s(()=>[e[0]||(e[0]=t("h3",null,"Status:",-1)),t("div",null,p(a.value),1)]),_:1})]),_:1}),n(y,{class:"col-12"},{default:s(()=>[n(v,null,{default:s(()=>[e[1]||(e[1]=t("h3",null,"Symbology:",-1)),t("div",j,p(l.value),1)]),_:1})]),_:1}),n(y,{class:"col-12"},{default:s(()=>[n(v,null,{default:s(()=>[e[2]||(e[2]=t("h3",null,"Data:",-1)),t("div",A,p(f.value),1)]),_:1})]),_:1})])])]))}};export{H as default};
