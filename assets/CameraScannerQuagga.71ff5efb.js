import{d as xr}from"./QBtn.1dd11108.js";import{e as Mr,f as vr,a as We,j as Sr,h as _r,g as Er,c as Ar,I as br,Q as wr,W as Or,B as gr,Y as yr,L as mr,N as kr,X as Pr,K as Tr}from"./index.1b009c00.js";import{h as Dr}from"./render.3ad24fb7.js";import{_ as jr}from"./plugin-vue_export-helper.21dcd24c.js";const Ir={position:{type:String,default:"bottom-right",validator:me=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(me)},offset:{type:Array,validator:me=>me.length===2},expand:Boolean};function zr(){const{props:me,proxy:{$q:De}}=Er(),i=Mr(Sr,vr);if(i===vr)return console.error("QPageSticky needs to be child of QLayout"),vr;const w=We(()=>{const R=me.position;return{top:R.indexOf("top")!==-1,right:R.indexOf("right")!==-1,bottom:R.indexOf("bottom")!==-1,left:R.indexOf("left")!==-1,vertical:R==="top"||R==="bottom",horizontal:R==="left"||R==="right"}}),e=We(()=>i.header.offset),a=We(()=>i.right.offset),u=We(()=>i.footer.offset),s=We(()=>i.left.offset),f=We(()=>{let R=0,M=0;const F=w.value,D=De.lang.rtl===!0?-1:1;F.top===!0&&e.value!==0?M=`${e.value}px`:F.bottom===!0&&u.value!==0&&(M=`${-u.value}px`),F.left===!0&&s.value!==0?R=`${D*s.value}px`:F.right===!0&&a.value!==0&&(R=`${-D*a.value}px`);const G={transform:`translate(${R}, ${M})`};return me.offset&&(G.margin=`${me.offset[1]}px ${me.offset[0]}px`),F.vertical===!0?(s.value!==0&&(G[De.lang.rtl===!0?"right":"left"]=`${s.value}px`),a.value!==0&&(G[De.lang.rtl===!0?"left":"right"]=`${a.value}px`)):F.horizontal===!0&&(e.value!==0&&(G.top=`${e.value}px`),u.value!==0&&(G.bottom=`${u.value}px`)),G}),y=We(()=>`q-page-sticky row flex-center fixed-${me.position} q-page-sticky--${me.expand===!0?"expand":"shrink"}`);function b(R){const M=Dr(R.default);return _r("div",{class:y.value,style:f.value},me.expand===!0?M:[_r("div",M)])}return{$layout:i,getStickyContent:b}}var Lr=Ar({name:"QPageSticky",props:Ir,setup(me,{slots:De}){const{getStickyContent:i}=zr();return()=>i(De)}});function Ur(me){return me&&me.__esModule&&Object.prototype.hasOwnProperty.call(me,"default")?me.default:me}var Rr={exports:{}};(function(me,De){(function(i,w){me.exports=w()})(window,function(){return function(i){var w={};function e(a){if(w[a])return w[a].exports;var u=w[a]={i:a,l:!1,exports:{}};return i[a].call(u.exports,u,u.exports,e),u.l=!0,u.exports}return e.m=i,e.c=w,e.d=function(a,u,s){e.o(a,u)||Object.defineProperty(a,u,{enumerable:!0,get:s})},e.r=function(a){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},e.t=function(a,u){if(1&u&&(a=e(a)),8&u||4&u&&typeof a=="object"&&a&&a.__esModule)return a;var s=Object.create(null);if(e.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:a}),2&u&&typeof a!="string")for(var f in a)e.d(s,f,function(y){return a[y]}.bind(null,f));return s},e.n=function(a){var u=a&&a.__esModule?function(){return a.default}:function(){return a};return e.d(u,"a",u),u},e.o=function(a,u){return Object.prototype.hasOwnProperty.call(a,u)},e.p="/",e(e.s=73)}([function(i,w,e){var a=e(61);i.exports=function(u,s,f){return(s=a(s))in u?Object.defineProperty(u,s,{value:f,enumerable:!0,configurable:!0,writable:!0}):u[s]=f,u},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w){i.exports=function(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w){function e(a){return i.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(u){return u.__proto__||Object.getPrototypeOf(u)},i.exports.__esModule=!0,i.exports.default=i.exports,e(a)}i.exports=e,i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w){i.exports=function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w,e){var a=e(61);function u(s,f){for(var y=0;y<f.length;y++){var b=f[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(s,a(b.key),b)}}i.exports=function(s,f,y){return f&&u(s.prototype,f),y&&u(s,y),Object.defineProperty(s,"prototype",{writable:!1}),s},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w,e){e.d(w,"a",function(){return a}),e.d(w,"b",function(){return u}),e.d(w,"c",function(){return s}),e.d(w,"d",function(){return f});var a={};e.r(a),e.d(a,"EPSILON",function(){return y}),e.d(a,"ARRAY_TYPE",function(){return b}),e.d(a,"RANDOM",function(){return R}),e.d(a,"setMatrixArrayType",function(){return M}),e.d(a,"toRadian",function(){return D}),e.d(a,"equals",function(){return G});var u={};e.r(u),e.d(u,"create",function(){return ne}),e.d(u,"clone",function(){return J}),e.d(u,"copy",function(){return oe}),e.d(u,"identity",function(){return B}),e.d(u,"fromValues",function(){return j}),e.d(u,"set",function(){return E}),e.d(u,"transpose",function(){return O}),e.d(u,"invert",function(){return k}),e.d(u,"adjoint",function(){return U}),e.d(u,"determinant",function(){return P}),e.d(u,"multiply",function(){return $}),e.d(u,"rotate",function(){return T}),e.d(u,"scale",function(){return V}),e.d(u,"fromRotation",function(){return S}),e.d(u,"fromScaling",function(){return X}),e.d(u,"str",function(){return K}),e.d(u,"frob",function(){return Z}),e.d(u,"LDU",function(){return Y}),e.d(u,"add",function(){return ae}),e.d(u,"subtract",function(){return ee}),e.d(u,"exactEquals",function(){return te}),e.d(u,"equals",function(){return fe}),e.d(u,"multiplyScalar",function(){return z}),e.d(u,"multiplyScalarAndAdd",function(){return L}),e.d(u,"mul",function(){return W}),e.d(u,"sub",function(){return ce});var s={};e.r(s),e.d(s,"create",function(){return ie}),e.d(s,"clone",function(){return he}),e.d(s,"fromValues",function(){return ge}),e.d(s,"copy",function(){return ye}),e.d(s,"set",function(){return _e}),e.d(s,"add",function(){return Oe}),e.d(s,"subtract",function(){return Me}),e.d(s,"multiply",function(){return Ce}),e.d(s,"divide",function(){return ot}),e.d(s,"ceil",function(){return Lt}),e.d(s,"floor",function(){return at}),e.d(s,"min",function(){return qe}),e.d(s,"max",function(){return Ut}),e.d(s,"round",function(){return Nt}),e.d(s,"scale",function(){return it}),e.d(s,"scaleAndAdd",function(){return Ft}),e.d(s,"distance",function(){return ut}),e.d(s,"squaredDistance",function(){return ct}),e.d(s,"length",function(){return Qe}),e.d(s,"squaredLength",function(){return st}),e.d(s,"negate",function(){return Ye}),e.d(s,"inverse",function(){return ft}),e.d(s,"normalize",function(){return lt}),e.d(s,"dot",function(){return dt}),e.d(s,"cross",function(){return Ke}),e.d(s,"lerp",function(){return Bt}),e.d(s,"random",function(){return Wt}),e.d(s,"transformMat2",function(){return ht}),e.d(s,"transformMat2d",function(){return qt}),e.d(s,"transformMat3",function(){return pt}),e.d(s,"transformMat4",function(){return vt}),e.d(s,"rotate",function(){return Pe}),e.d(s,"angle",function(){return Vt}),e.d(s,"zero",function(){return gt}),e.d(s,"str",function(){return Gt}),e.d(s,"exactEquals",function(){return Xt}),e.d(s,"equals",function(){return yt}),e.d(s,"len",function(){return mt}),e.d(s,"sub",function(){return Ht}),e.d(s,"mul",function(){return xt}),e.d(s,"div",function(){return _t}),e.d(s,"dist",function(){return $t}),e.d(s,"sqrDist",function(){return bt}),e.d(s,"sqrLen",function(){return Qt}),e.d(s,"forEach",function(){return wt});var f={};e.r(f),e.d(f,"create",function(){return Le}),e.d(f,"clone",function(){return Ve}),e.d(f,"length",function(){return Ze}),e.d(f,"fromValues",function(){return Yt}),e.d(f,"copy",function(){return Ot}),e.d(f,"set",function(){return Ue}),e.d(f,"add",function(){return Je}),e.d(f,"subtract",function(){return Te}),e.d(f,"multiply",function(){return Rt}),e.d(f,"divide",function(){return Ct}),e.d(f,"ceil",function(){return Kt}),e.d(f,"floor",function(){return Zt}),e.d(f,"min",function(){return ze}),e.d(f,"max",function(){return et}),e.d(f,"round",function(){return Mt}),e.d(f,"scale",function(){return Jt}),e.d(f,"scaleAndAdd",function(){return er}),e.d(f,"distance",function(){return St}),e.d(f,"squaredDistance",function(){return Et}),e.d(f,"squaredLength",function(){return tt}),e.d(f,"negate",function(){return tr}),e.d(f,"inverse",function(){return rr}),e.d(f,"normalize",function(){return At}),e.d(f,"dot",function(){return Ne}),e.d(f,"cross",function(){return Fe}),e.d(f,"lerp",function(){return Ge}),e.d(f,"hermite",function(){return kt}),e.d(f,"bezier",function(){return nr}),e.d(f,"random",function(){return Se}),e.d(f,"transformMat4",function(){return Xe}),e.d(f,"transformMat3",function(){return Pt}),e.d(f,"transformQuat",function(){return or}),e.d(f,"rotateX",function(){return ar}),e.d(f,"rotateY",function(){return He}),e.d(f,"rotateZ",function(){return Tt}),e.d(f,"angle",function(){return ir}),e.d(f,"zero",function(){return ur}),e.d(f,"str",function(){return cr}),e.d(f,"exactEquals",function(){return sr}),e.d(f,"equals",function(){return fr}),e.d(f,"sub",function(){return Dt}),e.d(f,"mul",function(){return lr}),e.d(f,"div",function(){return dr}),e.d(f,"dist",function(){return jt}),e.d(f,"sqrDist",function(){return hr}),e.d(f,"len",function(){return rt}),e.d(f,"sqrLen",function(){return pr}),e.d(f,"forEach",function(){return It});var y=1e-6,b=typeof Float32Array!="undefined"?Float32Array:Array,R=Math.random;function M(o){b=o}var F=Math.PI/180;function D(o){return o*F}function G(o,d){return Math.abs(o-d)<=y*Math.max(1,Math.abs(o),Math.abs(d))}function ne(){var o=new b(4);return b!=Float32Array&&(o[1]=0,o[2]=0),o[0]=1,o[3]=1,o}function J(o){var d=new b(4);return d[0]=o[0],d[1]=o[1],d[2]=o[2],d[3]=o[3],d}function oe(o,d){return o[0]=d[0],o[1]=d[1],o[2]=d[2],o[3]=d[3],o}function B(o){return o[0]=1,o[1]=0,o[2]=0,o[3]=1,o}function j(o,d,m,A){var I=new b(4);return I[0]=o,I[1]=d,I[2]=m,I[3]=A,I}function E(o,d,m,A,I){return o[0]=d,o[1]=m,o[2]=A,o[3]=I,o}function O(o,d){if(o===d){var m=d[1];o[1]=d[2],o[2]=m}else o[0]=d[0],o[1]=d[2],o[2]=d[1],o[3]=d[3];return o}function k(o,d){var m=d[0],A=d[1],I=d[2],q=d[3],re=m*q-I*A;return re?(re=1/re,o[0]=q*re,o[1]=-A*re,o[2]=-I*re,o[3]=m*re,o):null}function U(o,d){var m=d[0];return o[0]=d[3],o[1]=-d[1],o[2]=-d[2],o[3]=m,o}function P(o){return o[0]*o[3]-o[2]*o[1]}function $(o,d,m){var A=d[0],I=d[1],q=d[2],re=d[3],se=m[0],pe=m[1],be=m[2],Re=m[3];return o[0]=A*se+q*pe,o[1]=I*se+re*pe,o[2]=A*be+q*Re,o[3]=I*be+re*Re,o}function T(o,d,m){var A=d[0],I=d[1],q=d[2],re=d[3],se=Math.sin(m),pe=Math.cos(m);return o[0]=A*pe+q*se,o[1]=I*pe+re*se,o[2]=A*-se+q*pe,o[3]=I*-se+re*pe,o}function V(o,d,m){var A=d[0],I=d[1],q=d[2],re=d[3],se=m[0],pe=m[1];return o[0]=A*se,o[1]=I*se,o[2]=q*pe,o[3]=re*pe,o}function S(o,d){var m=Math.sin(d),A=Math.cos(d);return o[0]=A,o[1]=m,o[2]=-m,o[3]=A,o}function X(o,d){return o[0]=d[0],o[1]=0,o[2]=0,o[3]=d[1],o}function K(o){return"mat2("+o[0]+", "+o[1]+", "+o[2]+", "+o[3]+")"}function Z(o){return Math.hypot(o[0],o[1],o[2],o[3])}function Y(o,d,m,A){return o[2]=A[2]/A[0],m[0]=A[0],m[1]=A[1],m[3]=A[3]-o[2]*m[1],[o,d,m]}function ae(o,d,m){return o[0]=d[0]+m[0],o[1]=d[1]+m[1],o[2]=d[2]+m[2],o[3]=d[3]+m[3],o}function ee(o,d,m){return o[0]=d[0]-m[0],o[1]=d[1]-m[1],o[2]=d[2]-m[2],o[3]=d[3]-m[3],o}function te(o,d){return o[0]===d[0]&&o[1]===d[1]&&o[2]===d[2]&&o[3]===d[3]}function fe(o,d){var m=o[0],A=o[1],I=o[2],q=o[3],re=d[0],se=d[1],pe=d[2],be=d[3];return Math.abs(m-re)<=y*Math.max(1,Math.abs(m),Math.abs(re))&&Math.abs(A-se)<=y*Math.max(1,Math.abs(A),Math.abs(se))&&Math.abs(I-pe)<=y*Math.max(1,Math.abs(I),Math.abs(pe))&&Math.abs(q-be)<=y*Math.max(1,Math.abs(q),Math.abs(be))}function z(o,d,m){return o[0]=d[0]*m,o[1]=d[1]*m,o[2]=d[2]*m,o[3]=d[3]*m,o}function L(o,d,m,A){return o[0]=d[0]+m[0]*A,o[1]=d[1]+m[1]*A,o[2]=d[2]+m[2]*A,o[3]=d[3]+m[3]*A,o}Math.hypot||(Math.hypot=function(){for(var o=0,d=arguments.length;d--;)o+=arguments[d]*arguments[d];return Math.sqrt(o)});var W=$,ce=ee;function ie(){var o=new b(2);return b!=Float32Array&&(o[0]=0,o[1]=0),o}function he(o){var d=new b(2);return d[0]=o[0],d[1]=o[1],d}function ge(o,d){var m=new b(2);return m[0]=o,m[1]=d,m}function ye(o,d){return o[0]=d[0],o[1]=d[1],o}function _e(o,d,m){return o[0]=d,o[1]=m,o}function Oe(o,d,m){return o[0]=d[0]+m[0],o[1]=d[1]+m[1],o}function Me(o,d,m){return o[0]=d[0]-m[0],o[1]=d[1]-m[1],o}function Ce(o,d,m){return o[0]=d[0]*m[0],o[1]=d[1]*m[1],o}function ot(o,d,m){return o[0]=d[0]/m[0],o[1]=d[1]/m[1],o}function Lt(o,d){return o[0]=Math.ceil(d[0]),o[1]=Math.ceil(d[1]),o}function at(o,d){return o[0]=Math.floor(d[0]),o[1]=Math.floor(d[1]),o}function qe(o,d,m){return o[0]=Math.min(d[0],m[0]),o[1]=Math.min(d[1],m[1]),o}function Ut(o,d,m){return o[0]=Math.max(d[0],m[0]),o[1]=Math.max(d[1],m[1]),o}function Nt(o,d){return o[0]=Math.round(d[0]),o[1]=Math.round(d[1]),o}function it(o,d,m){return o[0]=d[0]*m,o[1]=d[1]*m,o}function Ft(o,d,m,A){return o[0]=d[0]+m[0]*A,o[1]=d[1]+m[1]*A,o}function ut(o,d){var m=d[0]-o[0],A=d[1]-o[1];return Math.hypot(m,A)}function ct(o,d){var m=d[0]-o[0],A=d[1]-o[1];return m*m+A*A}function Qe(o){var d=o[0],m=o[1];return Math.hypot(d,m)}function st(o){var d=o[0],m=o[1];return d*d+m*m}function Ye(o,d){return o[0]=-d[0],o[1]=-d[1],o}function ft(o,d){return o[0]=1/d[0],o[1]=1/d[1],o}function lt(o,d){var m=d[0],A=d[1],I=m*m+A*A;return I>0&&(I=1/Math.sqrt(I)),o[0]=d[0]*I,o[1]=d[1]*I,o}function dt(o,d){return o[0]*d[0]+o[1]*d[1]}function Ke(o,d,m){var A=d[0]*m[1]-d[1]*m[0];return o[0]=o[1]=0,o[2]=A,o}function Bt(o,d,m,A){var I=d[0],q=d[1];return o[0]=I+A*(m[0]-I),o[1]=q+A*(m[1]-q),o}function Wt(o,d){d=d||1;var m=2*R()*Math.PI;return o[0]=Math.cos(m)*d,o[1]=Math.sin(m)*d,o}function ht(o,d,m){var A=d[0],I=d[1];return o[0]=m[0]*A+m[2]*I,o[1]=m[1]*A+m[3]*I,o}function qt(o,d,m){var A=d[0],I=d[1];return o[0]=m[0]*A+m[2]*I+m[4],o[1]=m[1]*A+m[3]*I+m[5],o}function pt(o,d,m){var A=d[0],I=d[1];return o[0]=m[0]*A+m[3]*I+m[6],o[1]=m[1]*A+m[4]*I+m[7],o}function vt(o,d,m){var A=d[0],I=d[1];return o[0]=m[0]*A+m[4]*I+m[12],o[1]=m[1]*A+m[5]*I+m[13],o}function Pe(o,d,m,A){var I=d[0]-m[0],q=d[1]-m[1],re=Math.sin(A),se=Math.cos(A);return o[0]=I*se-q*re+m[0],o[1]=I*re+q*se+m[1],o}function Vt(o,d){var m=o[0],A=o[1],I=d[0],q=d[1],re=Math.sqrt(m*m+A*A)*Math.sqrt(I*I+q*q),se=re&&(m*I+A*q)/re;return Math.acos(Math.min(Math.max(se,-1),1))}function gt(o){return o[0]=0,o[1]=0,o}function Gt(o){return"vec2("+o[0]+", "+o[1]+")"}function Xt(o,d){return o[0]===d[0]&&o[1]===d[1]}function yt(o,d){var m=o[0],A=o[1],I=d[0],q=d[1];return Math.abs(m-I)<=y*Math.max(1,Math.abs(m),Math.abs(I))&&Math.abs(A-q)<=y*Math.max(1,Math.abs(A),Math.abs(q))}var je,mt=Qe,Ht=Me,xt=Ce,_t=ot,$t=ut,bt=ct,Qt=st,wt=(je=ie(),function(o,d,m,A,I,q){var re,se;for(d||(d=2),m||(m=0),se=A?Math.min(A*d+m,o.length):o.length,re=m;re<se;re+=d)je[0]=o[re],je[1]=o[re+1],I(je,je,q),o[re]=je[0],o[re+1]=je[1];return o});function Le(){var o=new b(3);return b!=Float32Array&&(o[0]=0,o[1]=0,o[2]=0),o}function Ve(o){var d=new b(3);return d[0]=o[0],d[1]=o[1],d[2]=o[2],d}function Ze(o){var d=o[0],m=o[1],A=o[2];return Math.hypot(d,m,A)}function Yt(o,d,m){var A=new b(3);return A[0]=o,A[1]=d,A[2]=m,A}function Ot(o,d){return o[0]=d[0],o[1]=d[1],o[2]=d[2],o}function Ue(o,d,m,A){return o[0]=d,o[1]=m,o[2]=A,o}function Je(o,d,m){return o[0]=d[0]+m[0],o[1]=d[1]+m[1],o[2]=d[2]+m[2],o}function Te(o,d,m){return o[0]=d[0]-m[0],o[1]=d[1]-m[1],o[2]=d[2]-m[2],o}function Rt(o,d,m){return o[0]=d[0]*m[0],o[1]=d[1]*m[1],o[2]=d[2]*m[2],o}function Ct(o,d,m){return o[0]=d[0]/m[0],o[1]=d[1]/m[1],o[2]=d[2]/m[2],o}function Kt(o,d){return o[0]=Math.ceil(d[0]),o[1]=Math.ceil(d[1]),o[2]=Math.ceil(d[2]),o}function Zt(o,d){return o[0]=Math.floor(d[0]),o[1]=Math.floor(d[1]),o[2]=Math.floor(d[2]),o}function ze(o,d,m){return o[0]=Math.min(d[0],m[0]),o[1]=Math.min(d[1],m[1]),o[2]=Math.min(d[2],m[2]),o}function et(o,d,m){return o[0]=Math.max(d[0],m[0]),o[1]=Math.max(d[1],m[1]),o[2]=Math.max(d[2],m[2]),o}function Mt(o,d){return o[0]=Math.round(d[0]),o[1]=Math.round(d[1]),o[2]=Math.round(d[2]),o}function Jt(o,d,m){return o[0]=d[0]*m,o[1]=d[1]*m,o[2]=d[2]*m,o}function er(o,d,m,A){return o[0]=d[0]+m[0]*A,o[1]=d[1]+m[1]*A,o[2]=d[2]+m[2]*A,o}function St(o,d){var m=d[0]-o[0],A=d[1]-o[1],I=d[2]-o[2];return Math.hypot(m,A,I)}function Et(o,d){var m=d[0]-o[0],A=d[1]-o[1],I=d[2]-o[2];return m*m+A*A+I*I}function tt(o){var d=o[0],m=o[1],A=o[2];return d*d+m*m+A*A}function tr(o,d){return o[0]=-d[0],o[1]=-d[1],o[2]=-d[2],o}function rr(o,d){return o[0]=1/d[0],o[1]=1/d[1],o[2]=1/d[2],o}function At(o,d){var m=d[0],A=d[1],I=d[2],q=m*m+A*A+I*I;return q>0&&(q=1/Math.sqrt(q)),o[0]=d[0]*q,o[1]=d[1]*q,o[2]=d[2]*q,o}function Ne(o,d){return o[0]*d[0]+o[1]*d[1]+o[2]*d[2]}function Fe(o,d,m){var A=d[0],I=d[1],q=d[2],re=m[0],se=m[1],pe=m[2];return o[0]=I*pe-q*se,o[1]=q*re-A*pe,o[2]=A*se-I*re,o}function Ge(o,d,m,A){var I=d[0],q=d[1],re=d[2];return o[0]=I+A*(m[0]-I),o[1]=q+A*(m[1]-q),o[2]=re+A*(m[2]-re),o}function kt(o,d,m,A,I,q){var re=q*q,se=re*(2*q-3)+1,pe=re*(q-2)+q,be=re*(q-1),Re=re*(3-2*q);return o[0]=d[0]*se+m[0]*pe+A[0]*be+I[0]*Re,o[1]=d[1]*se+m[1]*pe+A[1]*be+I[1]*Re,o[2]=d[2]*se+m[2]*pe+A[2]*be+I[2]*Re,o}function nr(o,d,m,A,I,q){var re=1-q,se=re*re,pe=q*q,be=se*re,Re=3*q*se,Ae=3*pe*re,ke=pe*q;return o[0]=d[0]*be+m[0]*Re+A[0]*Ae+I[0]*ke,o[1]=d[1]*be+m[1]*Re+A[1]*Ae+I[1]*ke,o[2]=d[2]*be+m[2]*Re+A[2]*Ae+I[2]*ke,o}function Se(o,d){d=d||1;var m=2*R()*Math.PI,A=2*R()-1,I=Math.sqrt(1-A*A)*d;return o[0]=Math.cos(m)*I,o[1]=Math.sin(m)*I,o[2]=A*d,o}function Xe(o,d,m){var A=d[0],I=d[1],q=d[2],re=m[3]*A+m[7]*I+m[11]*q+m[15];return re=re||1,o[0]=(m[0]*A+m[4]*I+m[8]*q+m[12])/re,o[1]=(m[1]*A+m[5]*I+m[9]*q+m[13])/re,o[2]=(m[2]*A+m[6]*I+m[10]*q+m[14])/re,o}function Pt(o,d,m){var A=d[0],I=d[1],q=d[2];return o[0]=A*m[0]+I*m[3]+q*m[6],o[1]=A*m[1]+I*m[4]+q*m[7],o[2]=A*m[2]+I*m[5]+q*m[8],o}function or(o,d,m){var A=m[0],I=m[1],q=m[2],re=m[3],se=d[0],pe=d[1],be=d[2],Re=I*be-q*pe,Ae=q*se-A*be,ke=A*pe-I*se,Ie=I*ke-q*Ae,$e=q*Re-A*ke,nt=A*Ae-I*Re,h=2*re;return Re*=h,Ae*=h,ke*=h,Ie*=2,$e*=2,nt*=2,o[0]=se+Re+Ie,o[1]=pe+Ae+$e,o[2]=be+ke+nt,o}function ar(o,d,m,A){var I=[],q=[];return I[0]=d[0]-m[0],I[1]=d[1]-m[1],I[2]=d[2]-m[2],q[0]=I[0],q[1]=I[1]*Math.cos(A)-I[2]*Math.sin(A),q[2]=I[1]*Math.sin(A)+I[2]*Math.cos(A),o[0]=q[0]+m[0],o[1]=q[1]+m[1],o[2]=q[2]+m[2],o}function He(o,d,m,A){var I=[],q=[];return I[0]=d[0]-m[0],I[1]=d[1]-m[1],I[2]=d[2]-m[2],q[0]=I[2]*Math.sin(A)+I[0]*Math.cos(A),q[1]=I[1],q[2]=I[2]*Math.cos(A)-I[0]*Math.sin(A),o[0]=q[0]+m[0],o[1]=q[1]+m[1],o[2]=q[2]+m[2],o}function Tt(o,d,m,A){var I=[],q=[];return I[0]=d[0]-m[0],I[1]=d[1]-m[1],I[2]=d[2]-m[2],q[0]=I[0]*Math.cos(A)-I[1]*Math.sin(A),q[1]=I[0]*Math.sin(A)+I[1]*Math.cos(A),q[2]=I[2],o[0]=q[0]+m[0],o[1]=q[1]+m[1],o[2]=q[2]+m[2],o}function ir(o,d){var m=o[0],A=o[1],I=o[2],q=d[0],re=d[1],se=d[2],pe=Math.sqrt(m*m+A*A+I*I)*Math.sqrt(q*q+re*re+se*se),be=pe&&Ne(o,d)/pe;return Math.acos(Math.min(Math.max(be,-1),1))}function ur(o){return o[0]=0,o[1]=0,o[2]=0,o}function cr(o){return"vec3("+o[0]+", "+o[1]+", "+o[2]+")"}function sr(o,d){return o[0]===d[0]&&o[1]===d[1]&&o[2]===d[2]}function fr(o,d){var m=o[0],A=o[1],I=o[2],q=d[0],re=d[1],se=d[2];return Math.abs(m-q)<=y*Math.max(1,Math.abs(m),Math.abs(q))&&Math.abs(A-re)<=y*Math.max(1,Math.abs(A),Math.abs(re))&&Math.abs(I-se)<=y*Math.max(1,Math.abs(I),Math.abs(se))}var Dt=Te,lr=Rt,dr=Ct,jt=St,hr=Et,rt=Ze,pr=tt,It=function(){var o=Le();return function(d,m,A,I,q,re){var se,pe;for(m||(m=3),A||(A=0),pe=I?Math.min(I*m+A,d.length):d.length,se=A;se<pe;se+=m)o[0]=d[se],o[1]=d[se+1],o[2]=d[se+2],q(o,o,re),d[se]=o[0],d[se+1]=o[1],d[se+2]=o[2];return d}}()},function(i,w,e){var a=e(13).default,u=e(1);i.exports=function(s,f){if(f&&(a(f)==="object"||typeof f=="function"))return f;if(f!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u(s)},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w,e){var a=e(40);i.exports=function(u,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(s&&s.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),s&&a(u,s)},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w,e){var a=e(141)();i.exports=a;try{regeneratorRuntime=a}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=a:Function("r","regeneratorRuntime = r")(a)}},function(i,w,e){w.a={init:function(a,u){a.fill(u)},shuffle:function(a){for(var u=a.length-1;u>0;u--){var s=Math.floor(Math.random()*(u+1)),f=[a[s],a[u]];a[u]=f[0],a[s]=f[1]}return a},toPointList:function(a){var u=a.reduce(function(s,f){var y="[".concat(f.join(","),"]");return s.push(y),s},[]);return"[".concat(u.join(`,\r
`),"]")},threshold:function(a,u,s){return a.reduce(function(f,y){return s.apply(a,[y])>=u&&f.push(y),f},[])},maxIndex:function(a){for(var u=0,s=0;s<a.length;s++)a[s]>a[u]&&(u=s);return u},max:function(a){for(var u=0,s=0;s<a.length;s++)a[s]>u&&(u=a[s]);return u},sum:function(a){for(var u=a.length,s=0;u--;)s+=a[u];return s}}},function(i,w,e){e.d(w,"h",function(){return y}),e.d(w,"i",function(){return R}),e.d(w,"b",function(){return M}),e.d(w,"j",function(){return F}),e.d(w,"e",function(){return D}),e.d(w,"c",function(){return G}),e.d(w,"f",function(){return ne}),e.d(w,"g",function(){return J}),e.d(w,"a",function(){return B}),e.d(w,"d",function(){return E});var a=e(5),u=e(9);a.a.setMatrixArrayType(Array);var s=function(O,k){var U=[],P={rad:0,vec:a.c.clone([0,0])},$={};function T(S){$[S.id]=S,U.push(S)}function V(){var S,X=0;for(S=0;S<U.length;S++)X+=U[S].rad;P.rad=X/U.length,P.vec=a.c.clone([Math.cos(P.rad),Math.sin(P.rad)])}return T(O),V(),{add:function(S){$[S.id]||(T(S),V())},fits:function(S){return Math.abs(a.c.dot(S.point.vec,P.vec))>k},getPoints:function(){return U},getCenter:function(){return P}}},f=function(O,k,U){return{rad:O[U],point:O,id:k}};function y(O,k){return{x:O,y:k,toVec2:function(){return a.c.clone([this.x,this.y])},toVec3:function(){return a.d.clone([this.x,this.y,1])},round:function(){return this.x=this.x>0?Math.floor(this.x+.5):Math.floor(this.x-.5),this.y=this.y>0?Math.floor(this.y+.5):Math.floor(this.y-.5),this}}}function b(O,k){k||(k=8);for(var U=O.data,P=U.length,$=8-k,T=new Int32Array(1<<k);P--;)T[U[P]>>$]++;return T}function R(O,k){var U=function(P){var $,T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:8,V=8-T;function S(Y,ae){for(var ee=0,te=Y;te<=ae;te++)ee+=$[te];return ee}function X(Y,ae){for(var ee=0,te=Y;te<=ae;te++)ee+=te*$[te];return ee}function K(){var Y,ae,ee,te,fe=[0],z=(1<<T)-1;$=b(P,T);for(var L=1;L<z;L++)(ee=(Y=S(0,L))*(ae=S(L+1,z)))===0&&(ee=1),te=X(0,L)*ae-X(L+1,z)*Y,fe[L]=te*te/ee;return u.a.maxIndex(fe)}var Z=K();return Z<<V}(O);return function(P,$,T){T||(T=P);for(var V=P.data,S=V.length,X=T.data;S--;)X[S]=V[S]<$?1:0}(O,U,k),U}function M(O,k,U){var P,$,T,V,S=[];function X(K){var Z=!1;for($=0;$<S.length;$++)(T=S[$]).fits(K)&&(T.add(K),Z=!0);return Z}for(U||(U="rad"),P=0;P<O.length;P++)X(V=f(O[P],P,U))||S.push(s(V,k));return S}a.a.setMatrixArrayType(Array);function F(O,k,U){var P,$,T,V,S=0,X=0,K=[];for(P=0;P<k;P++)K[P]={score:0,item:null};for(P=0;P<O.length;P++)if(($=U.apply(this,[O[P]]))>X)for((T=K[S]).score=$,T.item=O[P],X=Number.MAX_VALUE,V=0;V<k;V++)K[V].score<X&&(X=K[V].score,S=V);return K}function D(O,k,U){for(var P,$=0,T=k.x,V=Math.floor(O.length/4),S=k.x/2,X=0,K=k.x;T<V;){for(P=0;P<S;P++)U[X]=(.299*O[4*$+0]+.587*O[4*$+1]+.114*O[4*$+2]+(.299*O[4*($+1)+0]+.587*O[4*($+1)+1]+.114*O[4*($+1)+2])+(.299*O[4*T+0]+.587*O[4*T+1]+.114*O[4*T+2])+(.299*O[4*(T+1)+0]+.587*O[4*(T+1)+1]+.114*O[4*(T+1)+2]))/4,X++,$+=2,T+=2;$+=K,T+=K}}function G(O,k,U){var P=O.length/4|0;if(U&&U.singleChannel===!0)for(var $=0;$<P;$++)k[$]=O[4*$+0];else for(var T=0;T<P;T++)k[T]=.299*O[4*T+0]+.587*O[4*T+1]+.114*O[4*T+2]}function ne(O,k){for(var U=O.data,P=O.size.x,$=k.data,T=0,V=P,S=U.length,X=P/2,K=0;V<S;){for(var Z=0;Z<X;Z++)$[K]=Math.floor((U[T]+U[T+1]+U[V]+U[V+1])/4),K++,T+=2,V+=2;T+=P,V+=P}}function J(O){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,0,0],U=O[0],P=O[1],$=O[2],T=$*P,V=T*(1-Math.abs(U/60%2-1)),S=$-T,X=0,K=0,Z=0;return U<60?(X=T,K=V):U<120?(X=V,K=T):U<180?(K=T,Z=V):U<240?(K=V,Z=T):U<300?(X=V,Z=T):U<360&&(X=T,Z=V),k[0]=255*(X+S)|0,k[1]=255*(K+S)|0,k[2]=255*(Z+S)|0,k}function oe(O){for(var k=[],U=[],P=1;P<Math.sqrt(O)+1;P++)O%P==0&&(U.push(P),P!==O/P&&k.unshift(Math.floor(O/P)));return U.concat(k)}function B(O,k){var U,P=oe(k.x),$=oe(k.y),T=Math.max(k.x,k.y),V=function(ee,te){for(var fe=0,z=0,L=[];fe<ee.length&&z<te.length;)ee[fe]===te[z]?(L.push(ee[fe]),fe++,z++):ee[fe]>te[z]?z++:fe++;return L}(P,$),S=[8,10,15,20,32,60,80],X={"x-small":5,small:4,medium:3,large:2,"x-large":1},K=X[O]||X.medium,Z=S[K],Y=Math.floor(T/Z);function ae(ee){for(var te=0,fe=ee[Math.floor(ee.length/2)];te<ee.length-1&&ee[te]<Y;)te++;return te>0&&(fe=Math.abs(ee[te]-Y)>Math.abs(ee[te-1]-Y)?ee[te-1]:ee[te]),Y/fe<S[K+1]/S[K]&&Y/fe>S[K-1]/S[K]?{x:fe,y:fe}:null}return(U=ae(V))||(U=ae(oe(T)))||(U=ae(oe(Y*Z))),U}var j={top:function(O,k){return O.unit==="%"?Math.floor(k.height*(O.value/100)):null},right:function(O,k){return O.unit==="%"?Math.floor(k.width-k.width*(O.value/100)):null},bottom:function(O,k){return O.unit==="%"?Math.floor(k.height-k.height*(O.value/100)):null},left:function(O,k){return O.unit==="%"?Math.floor(k.width*(O.value/100)):null}};function E(O,k,U){var P={width:O,height:k},$=Object.keys(U).reduce(function(T,V){var S=function(K){return{value:parseFloat(K),unit:(K.indexOf("%"),K.length,"%")}}(U[V]),X=j[V](S,P);return T[V]=X,T},{});return{sx:$.left,sy:$.top,sw:$.right-$.left,sh:$.bottom-$.top}}},function(i,w,e){var a=e(62),u=e.n(a),s=e(3),f=e.n(s),y=e(4),b=e.n(y),R=e(0),M=e.n(R),F=e(5),D=e(9),G=e(10);function ne(oe){if(oe<0)throw new Error("expected positive number, received ".concat(oe))}F.a.setMatrixArrayType(Array);var J=function(){function oe(B,j){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Uint8Array,O=arguments.length>3?arguments[3]:void 0;f()(this,oe),M()(this,"data",void 0),M()(this,"size",void 0),M()(this,"indexMapping",void 0),j?this.data=j:(this.data=new E(B.x*B.y),O&&D.a.init(this.data,0)),this.size=B}return b()(oe,[{key:"inImageWithBorder",value:function(B){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ne(j),B.x>=0&&B.y>=0&&B.x<this.size.x+2*j&&B.y<this.size.y+2*j}},{key:"subImageAsCopy",value:function(B,j){ne(j.x),ne(j.y);for(var E=B.size,O=E.x,k=E.y,U=0;U<O;U++)for(var P=0;P<k;P++)B.data[P*O+U]=this.data[(j.y+P)*this.size.x+j.x+U];return B}},{key:"get",value:function(B,j){return this.data[j*this.size.x+B]}},{key:"getSafe",value:function(B,j){if(!this.indexMapping){this.indexMapping={x:[],y:[]};for(var E=0;E<this.size.x;E++)this.indexMapping.x[E]=E,this.indexMapping.x[E+this.size.x]=E;for(var O=0;O<this.size.y;O++)this.indexMapping.y[O]=O,this.indexMapping.y[O+this.size.y]=O}return this.data[this.indexMapping.y[j+this.size.y]*this.size.x+this.indexMapping.x[B+this.size.x]]}},{key:"set",value:function(B,j,E){return this.data[j*this.size.x+B]=E,delete this.indexMapping,this}},{key:"zeroBorder",value:function(){for(var B=this.size,j=B.x,E=B.y,O=0;O<j;O++)this.data[O]=this.data[(E-1)*j+O]=0;for(var k=1;k<E-1;k++)this.data[k*j]=this.data[k*j+(j-1)]=0;return delete this.indexMapping,this}},{key:"moments",value:function(B){var j,E,O,k,U,P,$,T,V,S,X=this.data,K=this.size.y,Z=this.size.x,Y=[],ae=[],ee=Math.PI,te=ee/4;if(B<=0)return ae;for(U=0;U<B;U++)Y[U]={m00:0,m01:0,m10:0,m11:0,m02:0,m20:0,theta:0,rad:0};for(E=0;E<K;E++)for(k=E*E,j=0;j<Z;j++)(O=X[E*Z+j])>0&&((P=Y[O-1]).m00+=1,P.m01+=E,P.m10+=j,P.m11+=j*E,P.m02+=k,P.m20+=j*j);for(U=0;U<B;U++)P=Y[U],isNaN(P.m00)||P.m00===0||(T=P.m10/P.m00,V=P.m01/P.m00,$=P.m11/P.m00-T*V,S=(P.m02/P.m00-V*V-(P.m20/P.m00-T*T))/(2*$),S=.5*Math.atan(S)+($>=0?te:-te)+ee,P.theta=(180*S/ee+90)%180-90,P.theta<0&&(P.theta+=180),P.rad=S>ee?S-ee:S,P.vec=F.c.clone([Math.cos(S),Math.sin(S)]),ae.push(P));return ae}},{key:"getAsRGBA",value:function(){for(var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,j=new Uint8ClampedArray(4*this.size.x*this.size.y),E=0;E<this.size.y;E++)for(var O=0;O<this.size.x;O++){var k=E*this.size.x+O,U=this.get(O,E)*B;j[4*k+0]=U,j[4*k+1]=U,j[4*k+2]=U,j[4*k+3]=255}return j}},{key:"show",value:function(B){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;console.warn("* imagewrapper show getcontext 2d");var E=B.getContext("2d");if(!E)throw new Error("Unable to get canvas context");var O=E.getImageData(0,0,B.width,B.height),k=this.getAsRGBA(j);B.width=this.size.x,B.height=this.size.y;var U=new ImageData(k,O.width,O.height);E.putImageData(U,0,0)}},{key:"overlay",value:function(B,j,E){var O=j<0||j>360?360:j,k=[0,1,1],U=[0,0,0],P=[255,255,255],$=[0,0,0];console.warn("* imagewrapper overlay getcontext 2d");var T=B.getContext("2d");if(!T)throw new Error("Unable to get canvas context");for(var V=T.getImageData(E.x,E.y,this.size.x,this.size.y),S=V.data,X=this.data.length;X--;){k[0]=this.data[X]*O;var K=4*X,Z=k[0]<=0?P:k[0]>=360?$:Object(G.g)(k,U),Y=u()(Z,3);S[K]=Y[0],S[K+1]=Y[1],S[K+2]=Y[2],S[K+3]=255}T.putImageData(V,E.x,E.y)}}]),oe}();w.a=J},function(i,w){function e(a,u,s,f,y,b,R){try{var M=a[b](R),F=M.value}catch(D){return void s(D)}M.done?u(F):Promise.resolve(F).then(f,y)}i.exports=function(a){return function(){var u=this,s=arguments;return new Promise(function(f,y){var b=a.apply(u,s);function R(F){e(b,f,y,R,M,"next",F)}function M(F){e(b,f,y,R,M,"throw",F)}R(void 0)})}},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w){function e(a){return i.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},i.exports.__esModule=!0,i.exports.default=i.exports,e(a)}i.exports=e,i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w,e){var a=e(142);function u(){return typeof Reflect!="undefined"&&Reflect.get?(i.exports=u=Reflect.get.bind(),i.exports.__esModule=!0,i.exports.default=i.exports):(i.exports=u=function(s,f,y){var b=a(s,f);if(b){var R=Object.getOwnPropertyDescriptor(b,f);return R.get?R.get.call(arguments.length<3?s:y):R.value}},i.exports.__esModule=!0,i.exports.default=i.exports),u.apply(this,arguments)}i.exports=u,i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w){i.exports=function(e){var a=typeof e;return e!=null&&(a=="object"||a=="function")}},function(i,w){var e=Array.isArray;i.exports=e},function(i,w,e){w.a={drawRect:function(a,u,s,f){s.strokeStyle=f.color,s.fillStyle=f.color,s.lineWidth=f.lineWidth||1,s.beginPath(),s.strokeRect(a.x,a.y,u.x,u.y)},drawPath:function(a,u,s,f){s.strokeStyle=f.color,s.fillStyle=f.color,s.lineWidth=f.lineWidth,s.beginPath(),s.moveTo(a[0][u.x],a[0][u.y]);for(var y=1;y<a.length;y++)s.lineTo(a[y][u.x],a[y][u.y]);s.closePath(),s.stroke()},drawImage:function(a,u,s){var f=s.getImageData(0,0,u.x,u.y),y=f.data,b=y.length,R=a.length;if(b/R!=4)return!1;for(;R--;){var M=a[R];y[--b]=255,y[--b]=M,y[--b]=M,y[--b]=M}return s.putImageData(f,0,0),!0}}},function(i,w,e){var a=e(74),u=e(129)(function(s,f,y){a(s,f,y)});i.exports=u},function(i,w,e){var a=e(44),u=typeof self=="object"&&self&&self.Object===Object&&self,s=a||u||Function("return this")();i.exports=s},function(i,w){i.exports=function(e){return e!=null&&typeof e=="object"}},function(i,w,e){w.a={searchDirections:[[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1],[-1,0],[-1,1]],create:function(a,u){var s,f=a.data,y=u.data,b=this.searchDirections,R=a.size.x;function M(D,G,ne,J){var oe,B,j;for(oe=0;oe<b.length;oe++){if(B=D.cy+b[D.dir][0],j=D.cx+b[D.dir][1],f[s=B*R+j]===G&&(y[s]===0||y[s]===ne))return y[s]=ne,D.cy=B,D.cx=j,!0;y[s]===0&&(y[s]=J),D.dir=(D.dir+1)%8}return!1}function F(D,G,ne){return{dir:ne,x:D,y:G,next:null,prev:null}}return{trace:function(D,G,ne,J){return M(D,G,ne,J)},contourTracing:function(D,G,ne,J,oe){return function(B,j,E,O,k){var U,P,$,T=null,V={cx:j,cy:B,dir:0};if(M(V,O,E,k)){U=T=F(j,B,V.dir),$=V.dir,(P=F(V.cx,V.cy,0)).prev=U,U.next=P,P.next=null,U=P;var S=a.size.x*a.size.y,X=0;do V.dir=(V.dir+6)%8,M(V,O,E,k),$!==V.dir?(U.dir=V.dir,(P=F(V.cx,V.cy,0)).prev=U,U.next=P,P.next=null,U=P):(U.dir=$,U.x=V.cx,U.y=V.cy),$=V.dir;while((V.cx!==j||V.cy!==B)&&++X<S);T.prev=U.prev,U.prev.next=T}return T}(D,G,ne,J,oe)}}}}},function(i,w,e){var a=e(27),u=e(87),s=e(88),f=a?a.toStringTag:void 0;i.exports=function(y){return y==null?y===void 0?"[object Undefined]":"[object Null]":f&&f in Object(y)?u(y):s(y)}},function(i,w,e){(function(a){var u,s,f,y,b,R,M,F,D,G,ne=e(5),J=e(11),oe=e(10),B=e(9),j=(e(17),e(65)),E=e(21),O=e(66);ne.a.setMatrixArrayType(Array);var k,U,P={ctx:{binary:null},dom:{binary:null}},$={x:0,y:0};function T(X){var K,Z,Y,ae,ee,te,fe,z=D.size.x,L=D.size.y,W=-D.size.x,ce=-D.size.y;for(K=0,Z=0;Z<X.length;Z++)K+=(ae=X[Z]).rad;for((K=(180*(K/=X.length)/Math.PI+90)%180-90)<0&&(K+=180),K=(180-K)*Math.PI/180,ee=ne.b.copy(ne.b.create(),[Math.cos(K),Math.sin(K),-Math.sin(K),Math.cos(K)]),Z=0;Z<X.length;Z++)for(ae=X[Z],Y=0;Y<4;Y++)ne.c.transformMat2(ae.box[Y],ae.box[Y],ee);for(Z=0;Z<X.length;Z++)for(ae=X[Z],Y=0;Y<4;Y++)ae.box[Y][0]<z&&(z=ae.box[Y][0]),ae.box[Y][0]>W&&(W=ae.box[Y][0]),ae.box[Y][1]<L&&(L=ae.box[Y][1]),ae.box[Y][1]>ce&&(ce=ae.box[Y][1]);for(te=[[z,L],[W,L],[W,ce],[z,ce]],fe=u.halfSample?2:1,ee=ne.b.invert(ee,ee),Y=0;Y<4;Y++)ne.c.transformMat2(te[Y],te[Y],ee);for(Y=0;Y<4;Y++)ne.c.scale(te[Y],te[Y],fe);return te}function V(X,K){D.subImageAsCopy(y,Object(oe.h)(X,K)),U.skeletonize()}function S(X,K,Z,Y){var ae,ee,te,fe,z=[],L=[],W=Math.ceil(G.x/3);if(X.length>=2){for(ae=0;ae<X.length;ae++)X[ae].m00>W&&z.push(X[ae]);if(z.length>=2){for(te=function(he){var ge=Object(oe.b)(he,.9),ye=Object(oe.j)(ge,1,function(Ce){return Ce.getPoints().length}),_e=[],Oe=[];if(ye.length===1){_e=ye[0].item.getPoints();for(var Me=0;Me<_e.length;Me++)Oe.push(_e[Me].point)}return Oe}(z),ee=0,ae=0;ae<te.length;ae++){var ce,ie;ee+=(ce=(ie=te[ae])===null||ie===void 0?void 0:ie.rad)!==null&&ce!==void 0?ce:0}te.length>1&&te.length>=z.length/4*3&&te.length>X.length/4&&(ee/=te.length,fe={index:K[1]*$.x+K[0],pos:{x:Z,y:Y},box:[ne.c.clone([Z,Y]),ne.c.clone([Z+y.size.x,Y]),ne.c.clone([Z+y.size.x,Y+y.size.y]),ne.c.clone([Z,Y+y.size.y])],moments:te,rad:ee,vec:ne.c.clone([Math.cos(ee),Math.sin(ee)])},L.push(fe))}}return L}w.a={init:function(X,K){u=K,k=X,function(){s=u.halfSample?new J.a({x:k.size.x/2|0,y:k.size.y/2|0}):k,G=Object(oe.a)(u.patchSize,s.size),$.x=s.size.x/G.x|0,$.y=s.size.y/G.y|0,D=new J.a(s.size,void 0,Uint8Array,!1),b=new J.a(G,void 0,Array,!0);var Z=new ArrayBuffer(65536);y=new J.a(G,new Uint8Array(Z,0,G.x*G.y)),f=new J.a(G,new Uint8Array(Z,G.x*G.y*3,G.x*G.y),void 0,!0),U=Object(O.a)(typeof window!="undefined"?window:typeof self!="undefined"?self:a,{size:G.x},Z),F=new J.a({x:s.size.x/y.size.x|0,y:s.size.y/y.size.y|0},void 0,Array,!0),R=new J.a(F.size,void 0,void 0,!0),M=new J.a(F.size,void 0,Int32Array,!0)}(),function(){if(!u.useWorker&&typeof document!="undefined"){P.dom.binary=document.createElement("canvas"),P.dom.binary.className="binaryBuffer";var Z=!!u.willReadFrequently;console.warn("* initCanvas willReadFrequently",Z,u),P.ctx.binary=P.dom.binary.getContext("2d",{willReadFrequently:Z}),P.dom.binary.width=D.size.x,P.dom.binary.height=D.size.y}}()},locate:function(){u.halfSample&&Object(oe.f)(k,s),Object(oe.i)(s,D),D.zeroBorder();var X=function(){var Y,ae,ee,te,fe,z,L=[];for(Y=0;Y<$.x;Y++)for(ae=0;ae<$.y;ae++)V(ee=y.size.x*Y,te=y.size.y*ae),f.zeroBorder(),B.a.init(b.data,0),z=j.a.create(f,b).rasterize(0),fe=b.moments(z.count),L=L.concat(S(fe,[Y,ae],ee,te));return L}();if(X.length<$.x*$.y*.05)return null;var K=function(Y){var ae,ee,te=0,fe=0;function z(){var W;for(W=0;W<M.data.length;W++)if(M.data[W]===0&&R.data[W]===1)return W;return M.data.length}function L(W){var ce,ie,he,ge,ye,_e=W%M.size.x,Oe=W/M.size.x|0;if(W<M.data.length)for(he=F.data[W],M.data[W]=te,ye=0;ye<E.a.searchDirections.length;ye++)ie=Oe+E.a.searchDirections[ye][0],ce=_e+E.a.searchDirections[ye][1],ge=ie*M.size.x+ce,R.data[ge]!==0?M.data[ge]===0&&Math.abs(ne.c.dot(F.data[ge].vec,he.vec))>.95&&L(ge):M.data[ge]=Number.MAX_VALUE}for(B.a.init(R.data,0),B.a.init(M.data,0),B.a.init(F.data,null),ae=0;ae<Y.length;ae++)ee=Y[ae],F.data[ee.index]=ee,R.data[ee.index]=1;for(R.zeroBorder();(fe=z())<M.data.length;)te++,L(fe);return te}(X);if(K<1)return null;var Z=function(Y){var ae,ee,te=[];for(ae=0;ae<Y;ae++)te.push(0);for(ee=M.data.length;ee--;)M.data[ee]>0&&te[M.data[ee]-1]++;return(te=te.map(function(fe,z){return{val:fe,label:z+1}})).sort(function(fe,z){return z.val-fe.val}),te.filter(function(fe){return fe.val>=5})}(K);return Z.length===0?null:function(Y,ae){var ee,te,fe,z,L=[],W=[];for(ee=0;ee<Y.length;ee++){for(te=M.data.length,L.length=0;te--;)M.data[te]===Y[ee].label&&(fe=F.data[te],L.push(fe));(z=T(L))&&W.push(z)}return W}(Z)},checkImageConstraints:function(X,K){var Z,Y,ae=X.getWidth(),ee=X.getHeight(),te=K.halfSample?.5:1;X.getConfig().area&&(Y=Object(oe.d)(ae,ee,X.getConfig().area),X.setTopRight({x:Y.sx,y:Y.sy}),X.setCanvasSize({x:ae,y:ee}),ae=Y.sw,ee=Y.sh);var fe={x:Math.floor(ae*te),y:Math.floor(ee*te)};if(Z=Object(oe.a)(K.patchSize,fe),X.setWidth(Math.max(Math.floor(Math.floor(fe.x/Z.x)*(1/te)*Z.x),Z.x)),X.setHeight(Math.max(Math.floor(Math.floor(fe.y/Z.y)*(1/te)*Z.y),Z.y)),X.getWidth()%Z.x==0&&X.getHeight()%Z.y==0)return!0;throw new Error("Image dimensions do not comply with the current settings: Width (".concat(ae," )and height (").concat(ee,") must a multiple of ").concat(Z.x))}}}).call(this,e(45))},function(i,w,e){var a=e(76),u=e(77),s=e(78),f=e(79),y=e(80);function b(R){var M=-1,F=R==null?0:R.length;for(this.clear();++M<F;){var D=R[M];this.set(D[0],D[1])}}b.prototype.clear=a,b.prototype.delete=u,b.prototype.get=s,b.prototype.has=f,b.prototype.set=y,i.exports=b},function(i,w,e){var a=e(26);i.exports=function(u,s){for(var f=u.length;f--;)if(a(u[f][0],s))return f;return-1}},function(i,w){i.exports=function(e,a){return e===a||e!=e&&a!=a}},function(i,w,e){var a=e(19).Symbol;i.exports=a},function(i,w,e){var a=e(34)(Object,"create");i.exports=a},function(i,w,e){var a=e(101);i.exports=function(u,s){var f=u.__data__;return a(s)?f[typeof s=="string"?"string":"hash"]:f.map}},function(i,w,e){var a=e(116),u=e(20),s=Object.prototype,f=s.hasOwnProperty,y=s.propertyIsEnumerable,b=a(function(){return arguments}())?a:function(R){return u(R)&&f.call(R,"callee")&&!y.call(R,"callee")};i.exports=b},function(i,w){var e=/^(?:0|[1-9]\d*)$/;i.exports=function(a,u){var s=typeof a;return!!(u=u==null?9007199254740991:u)&&(s=="number"||s!="symbol"&&e.test(a))&&a>-1&&a%1==0&&a<u}},function(i,w,e){var a=e(16),u=e(149),s=e(150),f=e(153);i.exports=function(y,b){return a(y)?y:u(y,b)?[y]:s(f(y))}},function(i,w,e){var a=e(143),u=e(144),s=e(59),f=e(145);i.exports=function(y){return a(y)||u(y)||s(y)||f()},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w,e){var a=e(86),u=e(92);i.exports=function(s,f){var y=u(s,f);return a(y)?y:void 0}},function(i,w,e){var a=e(22),u=e(15);i.exports=function(s){if(!u(s))return!1;var f=a(s);return f=="[object Function]"||f=="[object GeneratorFunction]"||f=="[object AsyncFunction]"||f=="[object Proxy]"}},function(i,w,e){var a=e(48);i.exports=function(u,s,f){s=="__proto__"&&a?a(u,s,{configurable:!0,enumerable:!0,value:f,writable:!0}):u[s]=f}},function(i,w){i.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(i,w,e){var a=e(35),u=e(39);i.exports=function(s){return s!=null&&u(s.length)&&!a(s)}},function(i,w){i.exports=function(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=9007199254740991}},function(i,w){function e(a,u){return i.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,f){return s.__proto__=f,s},i.exports.__esModule=!0,i.exports.default=i.exports,e(a,u)}i.exports=e,i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w,e){var a=e(22),u=e(20);i.exports=function(s){return typeof s=="symbol"||u(s)&&a(s)=="[object Symbol]"}},function(i,w,e){var a=e(41);i.exports=function(u){if(typeof u=="string"||a(u))return u;var s=u+"";return s=="0"&&1/u==-1/0?"-0":s}},function(i,w,e){var a=e(34)(e(19),"Map");i.exports=a},function(i,w,e){(function(a){var u=typeof a=="object"&&a&&a.Object===Object&&a;i.exports=u}).call(this,e(45))},function(i,w){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch{typeof window=="object"&&(e=window)}i.exports=e},function(i,w,e){var a=e(93),u=e(100),s=e(102),f=e(103),y=e(104);function b(R){var M=-1,F=R==null?0:R.length;for(this.clear();++M<F;){var D=R[M];this.set(D[0],D[1])}}b.prototype.clear=a,b.prototype.delete=u,b.prototype.get=s,b.prototype.has=f,b.prototype.set=y,i.exports=b},function(i,w,e){var a=e(36),u=e(26);i.exports=function(s,f,y){(y!==void 0&&!u(s[f],y)||y===void 0&&!(f in s))&&a(s,f,y)}},function(i,w,e){var a=e(34),u=function(){try{var s=a(Object,"defineProperty");return s({},"",{}),s}catch{}}();i.exports=u},function(i,w,e){var a=e(115)(Object.getPrototypeOf,Object);i.exports=a},function(i,w){var e=Object.prototype;i.exports=function(a){var u=a&&a.constructor;return a===(typeof u=="function"&&u.prototype||e)}},function(i,w,e){(function(a){var u=e(19),s=e(118),f=w&&!w.nodeType&&w,y=f&&typeof a=="object"&&a&&!a.nodeType&&a,b=y&&y.exports===f?u.Buffer:void 0,R=(b?b.isBuffer:void 0)||s;a.exports=R}).call(this,e(37)(i))},function(i,w,e){var a=e(120),u=e(121),s=e(122),f=s&&s.isTypedArray,y=f?u(f):a;i.exports=y},function(i,w){i.exports=function(e,a){if((a!=="constructor"||typeof e[a]!="function")&&a!="__proto__")return e[a]}},function(i,w,e){var a=e(36),u=e(26),s=Object.prototype.hasOwnProperty;i.exports=function(f,y,b){var R=f[y];s.call(f,y)&&u(R,b)&&(b!==void 0||y in f)||a(f,y,b)}},function(i,w,e){var a=e(125),u=e(127),s=e(38);i.exports=function(f){return s(f)?a(f,!0):u(f)}},function(i,w){i.exports=function(e){return e}},function(i,w,e){var a=e(131),u=Math.max;i.exports=function(s,f,y){return f=u(f===void 0?s.length-1:f,0),function(){for(var b=arguments,R=-1,M=u(b.length-f,0),F=Array(M);++R<M;)F[R]=b[f+R];R=-1;for(var D=Array(f+1);++R<f;)D[R]=b[R];return D[f]=y(F),a(s,this,D)}}},function(i,w,e){var a=e(132),u=e(134)(a);i.exports=u},function(i,w,e){var a=e(60);i.exports=function(u,s){if(u){if(typeof u=="string")return a(u,s);var f=Object.prototype.toString.call(u).slice(8,-1);return f==="Object"&&u.constructor&&(f=u.constructor.name),f==="Map"||f==="Set"?Array.from(u):f==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f)?a(u,s):void 0}},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w){i.exports=function(e,a){(a==null||a>e.length)&&(a=e.length);for(var u=0,s=new Array(a);u<a;u++)s[u]=e[u];return s},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w,e){var a=e(13).default,u=e(140);i.exports=function(s){var f=u(s,"string");return a(f)==="symbol"?f:String(f)},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w,e){var a=e(137),u=e(138),s=e(59),f=e(139);i.exports=function(y,b){return a(y)||u(y,b)||s(y,b)||f()},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w,e){var a=e(146),u=e(160)(function(s,f){return s==null?{}:a(s,f)});i.exports=u},function(i,w,e){var a=e(2),u=e(40),s=e(165),f=e(166);function y(b){var R=typeof Map=="function"?new Map:void 0;return i.exports=y=function(M){if(M===null||!s(M))return M;if(typeof M!="function")throw new TypeError("Super expression must either be null or a function");if(R!==void 0){if(R.has(M))return R.get(M);R.set(M,F)}function F(){return f(M,arguments,a(this).constructor)}return F.prototype=Object.create(M.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),u(F,M)},i.exports.__esModule=!0,i.exports.default=i.exports,y(b)}i.exports=y,i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w,e){var a=e(21),u={createContour2D:function(){return{dir:null,index:null,firstVertex:null,insideContours:null,nextpeer:null,prevpeer:null}},CONTOUR_DIR:{CW_DIR:0,CCW_DIR:1,UNKNOWN_DIR:2},DIR:{OUTSIDE_EDGE:-32767,INSIDE_EDGE:-32766},create:function(s,f){var y=s.data,b=f.data,R=s.size.x,M=s.size.y,F=a.a.create(s,f);return{rasterize:function(D){var G,ne,J,oe,B,j,E,O,k,U,P,$,T=[],V=0;for($=0;$<400;$++)T[$]=0;for(T[0]=y[0],k=null,j=1;j<M-1;j++)for(oe=0,ne=T[0],B=1;B<R-1;B++)if(b[P=j*R+B]===0)if((G=y[P])!==ne){if(oe===0)T[J=V+1]=G,ne=G,(E=F.contourTracing(j,B,J,G,u.DIR.OUTSIDE_EDGE))!==null&&(V++,oe=J,(O=u.createContour2D()).dir=u.CONTOUR_DIR.CW_DIR,O.index=oe,O.firstVertex=E,O.nextpeer=k,O.insideContours=null,k!==null&&(k.prevpeer=O),k=O);else if((E=F.contourTracing(j,B,u.DIR.INSIDE_EDGE,G,oe))!==null){for((O=u.createContour2D()).firstVertex=E,O.insideContours=null,O.dir=D===0?u.CONTOUR_DIR.CCW_DIR:u.CONTOUR_DIR.CW_DIR,O.index=D,U=k;U!==null&&U.index!==oe;)U=U.nextpeer;U!==null&&(O.nextpeer=U.insideContours,U.insideContours!==null&&(U.insideContours.prevpeer=O),U.insideContours=O)}}else b[P]=oe;else b[P]===u.DIR.OUTSIDE_EDGE||b[P]===u.DIR.INSIDE_EDGE?(oe=0,ne=b[P]===u.DIR.INSIDE_EDGE?y[P]:T[0]):ne=T[oe=b[P]];for(U=k;U!==null;)U.index=D,U=U.nextpeer;return{cc:k,count:V}},debug:{drawContour:function(D,G){var ne,J,oe,B=D.getContext("2d"),j=G;for(B.strokeStyle="red",B.fillStyle="red",B.lineWidth=1,ne=j!==null?j.insideContours:null;j!==null;){switch(ne!==null?(J=ne,ne=ne.nextpeer):(J=j,ne=(j=j.nextpeer)!==null?j.insideContours:null),J.dir){case u.CONTOUR_DIR.CW_DIR:B.strokeStyle="red";break;case u.CONTOUR_DIR.CCW_DIR:B.strokeStyle="blue";break;case u.CONTOUR_DIR.UNKNOWN_DIR:B.strokeStyle="green"}oe=J.firstVertex,B.beginPath(),B.moveTo(oe.x,oe.y);do oe=oe.next,B.lineTo(oe.x,oe.y);while(oe!==J.firstVertex);B.stroke()}}}}}};w.a=u},function(i,w,e){/* @preserve ASM BEGIN *//* @preserve ASM END */w.a=function(a,u,s){var f=new a.Uint8Array(s),y=u.size|0,b=a.Math.imul;function R(j,E){j|=0,E|=0;var O=0,k=0,U=0,P=0,$=0,T=0,V=0,S=0;for(O=1;(O|0)<(y-1|0);O=O+1|0)for(S=S+y|0,k=1;(k|0)<(y-1|0);k=k+1|0)P=S-y|0,$=S+y|0,T=k-1|0,V=k+1|0,U=(f[j+P+T|0]|0)+(f[j+P+V|0]|0)+(f[j+S+k|0]|0)+(f[j+$+T|0]|0)+(f[j+$+V|0]|0)|0,(U|0)==5?f[E+S+k|0]=1:f[E+S+k|0]=0}function M(j,E,O){j|=0,E|=0,O|=0;var k=0;for(k=b(y,y)|0;(k|0)>0;)k=k-1|0,f[O+k|0]=(f[j+k|0]|0)-(f[E+k|0]|0)|0}function F(j,E,O){j|=0,E|=0,O|=0;var k=0;for(k=b(y,y)|0;(k|0)>0;)k=k-1|0,f[O+k|0]=f[j+k|0]|0|(f[E+k|0]|0)|0}function D(j){j|=0;var E=0,O=0;for(O=b(y,y)|0;(O|0)>0;)O=O-1|0,E=(E|0)+(f[j+O|0]|0)|0;return E|0}function G(j,E){j|=0,E|=0;var O=0;for(O=b(y,y)|0;(O|0)>0;)O=O-1|0,f[j+O|0]=E}function ne(j,E){j|=0,E|=0;var O=0,k=0,U=0,P=0,$=0,T=0,V=0,S=0;for(O=1;(O|0)<(y-1|0);O=O+1|0)for(S=S+y|0,k=1;(k|0)<(y-1|0);k=k+1|0)P=S-y|0,$=S+y|0,T=k-1|0,V=k+1|0,U=(f[j+P+T|0]|0)+(f[j+P+V|0]|0)+(f[j+S+k|0]|0)+(f[j+$+T|0]|0)+(f[j+$+V|0]|0)|0,(U|0)>0?f[E+S+k|0]=1:f[E+S+k|0]=0}function J(j,E){j|=0,E|=0;var O=0;for(O=b(y,y)|0;(O|0)>0;)O=O-1|0,f[E+O|0]=f[j+O|0]|0}function oe(j){j|=0;var E=0,O=0;for(E=0;(E|0)<(y-1|0);E=E+1|0)f[j+E|0]=0,f[j+O|0]=0,O=O+y-1|0,f[j+O|0]=0,O=O+1|0;for(E=0;(E|0)<(y|0);E=E+1|0)f[j+O|0]=0,O=O+1|0}function B(){var j=0,E=0,O=0,k=0,U=0,P=0;E=b(y,y)|0,O=E+E|0,k=O+E|0,G(k,0),oe(j);do R(j,E),ne(E,O),M(j,O,O),F(k,O,k),J(E,j),U=D(j)|0,P=(U|0)==0|0;while(!P)}return{skeletonize:B}}},,,,,,,function(i,w,e){i.exports=e(168)},function(i,w,e){var a=e(75),u=e(47),s=e(105),f=e(107),y=e(15),b=e(55),R=e(53);i.exports=function M(F,D,G,ne,J){F!==D&&s(D,function(oe,B){if(J||(J=new a),y(oe))f(F,D,B,G,M,ne,J);else{var j=ne?ne(R(F,B),oe,B+"",F,D,J):void 0;j===void 0&&(j=oe),u(F,B,j)}},b)}},function(i,w,e){var a=e(24),u=e(81),s=e(82),f=e(83),y=e(84),b=e(85);function R(M){var F=this.__data__=new a(M);this.size=F.size}R.prototype.clear=u,R.prototype.delete=s,R.prototype.get=f,R.prototype.has=y,R.prototype.set=b,i.exports=R},function(i,w){i.exports=function(){this.__data__=[],this.size=0}},function(i,w,e){var a=e(25),u=Array.prototype.splice;i.exports=function(s){var f=this.__data__,y=a(f,s);return!(y<0)&&(y==f.length-1?f.pop():u.call(f,y,1),--this.size,!0)}},function(i,w,e){var a=e(25);i.exports=function(u){var s=this.__data__,f=a(s,u);return f<0?void 0:s[f][1]}},function(i,w,e){var a=e(25);i.exports=function(u){return a(this.__data__,u)>-1}},function(i,w,e){var a=e(25);i.exports=function(u,s){var f=this.__data__,y=a(f,u);return y<0?(++this.size,f.push([u,s])):f[y][1]=s,this}},function(i,w,e){var a=e(24);i.exports=function(){this.__data__=new a,this.size=0}},function(i,w){i.exports=function(e){var a=this.__data__,u=a.delete(e);return this.size=a.size,u}},function(i,w){i.exports=function(e){return this.__data__.get(e)}},function(i,w){i.exports=function(e){return this.__data__.has(e)}},function(i,w,e){var a=e(24),u=e(43),s=e(46);i.exports=function(f,y){var b=this.__data__;if(b instanceof a){var R=b.__data__;if(!u||R.length<199)return R.push([f,y]),this.size=++b.size,this;b=this.__data__=new s(R)}return b.set(f,y),this.size=b.size,this}},function(i,w,e){var a=e(35),u=e(89),s=e(15),f=e(91),y=/^\[object .+?Constructor\]$/,b=Function.prototype,R=Object.prototype,M=b.toString,F=R.hasOwnProperty,D=RegExp("^"+M.call(F).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");i.exports=function(G){return!(!s(G)||u(G))&&(a(G)?D:y).test(f(G))}},function(i,w,e){var a=e(27),u=Object.prototype,s=u.hasOwnProperty,f=u.toString,y=a?a.toStringTag:void 0;i.exports=function(b){var R=s.call(b,y),M=b[y];try{b[y]=void 0;var F=!0}catch{}var D=f.call(b);return F&&(R?b[y]=M:delete b[y]),D}},function(i,w){var e=Object.prototype.toString;i.exports=function(a){return e.call(a)}},function(i,w,e){var a,u=e(90),s=(a=/[^.]+$/.exec(u&&u.keys&&u.keys.IE_PROTO||""))?"Symbol(src)_1."+a:"";i.exports=function(f){return!!s&&s in f}},function(i,w,e){var a=e(19)["__core-js_shared__"];i.exports=a},function(i,w){var e=Function.prototype.toString;i.exports=function(a){if(a!=null){try{return e.call(a)}catch{}try{return a+""}catch{}}return""}},function(i,w){i.exports=function(e,a){return e==null?void 0:e[a]}},function(i,w,e){var a=e(94),u=e(24),s=e(43);i.exports=function(){this.size=0,this.__data__={hash:new a,map:new(s||u),string:new a}}},function(i,w,e){var a=e(95),u=e(96),s=e(97),f=e(98),y=e(99);function b(R){var M=-1,F=R==null?0:R.length;for(this.clear();++M<F;){var D=R[M];this.set(D[0],D[1])}}b.prototype.clear=a,b.prototype.delete=u,b.prototype.get=s,b.prototype.has=f,b.prototype.set=y,i.exports=b},function(i,w,e){var a=e(28);i.exports=function(){this.__data__=a?a(null):{},this.size=0}},function(i,w){i.exports=function(e){var a=this.has(e)&&delete this.__data__[e];return this.size-=a?1:0,a}},function(i,w,e){var a=e(28),u=Object.prototype.hasOwnProperty;i.exports=function(s){var f=this.__data__;if(a){var y=f[s];return y==="__lodash_hash_undefined__"?void 0:y}return u.call(f,s)?f[s]:void 0}},function(i,w,e){var a=e(28),u=Object.prototype.hasOwnProperty;i.exports=function(s){var f=this.__data__;return a?f[s]!==void 0:u.call(f,s)}},function(i,w,e){var a=e(28);i.exports=function(u,s){var f=this.__data__;return this.size+=this.has(u)?0:1,f[u]=a&&s===void 0?"__lodash_hash_undefined__":s,this}},function(i,w,e){var a=e(29);i.exports=function(u){var s=a(this,u).delete(u);return this.size-=s?1:0,s}},function(i,w){i.exports=function(e){var a=typeof e;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?e!=="__proto__":e===null}},function(i,w,e){var a=e(29);i.exports=function(u){return a(this,u).get(u)}},function(i,w,e){var a=e(29);i.exports=function(u){return a(this,u).has(u)}},function(i,w,e){var a=e(29);i.exports=function(u,s){var f=a(this,u),y=f.size;return f.set(u,s),this.size+=f.size==y?0:1,this}},function(i,w,e){var a=e(106)();i.exports=a},function(i,w){i.exports=function(e){return function(a,u,s){for(var f=-1,y=Object(a),b=s(a),R=b.length;R--;){var M=b[e?R:++f];if(u(y[M],M,y)===!1)break}return a}}},function(i,w,e){var a=e(47),u=e(108),s=e(109),f=e(112),y=e(113),b=e(30),R=e(16),M=e(117),F=e(51),D=e(35),G=e(15),ne=e(119),J=e(52),oe=e(53),B=e(123);i.exports=function(j,E,O,k,U,P,$){var T=oe(j,O),V=oe(E,O),S=$.get(V);if(S)a(j,O,S);else{var X=P?P(T,V,O+"",j,E,$):void 0,K=X===void 0;if(K){var Z=R(V),Y=!Z&&F(V),ae=!Z&&!Y&&J(V);X=V,Z||Y||ae?R(T)?X=T:M(T)?X=f(T):Y?(K=!1,X=u(V,!0)):ae?(K=!1,X=s(V,!0)):X=[]:ne(V)||b(V)?(X=T,b(T)?X=B(T):G(T)&&!D(T)||(X=y(V))):K=!1}K&&($.set(V,X),U(X,V,k,P,$),$.delete(V)),a(j,O,X)}}},function(i,w,e){(function(a){var u=e(19),s=w&&!w.nodeType&&w,f=s&&typeof a=="object"&&a&&!a.nodeType&&a,y=f&&f.exports===s?u.Buffer:void 0,b=y?y.allocUnsafe:void 0;a.exports=function(R,M){if(M)return R.slice();var F=R.length,D=b?b(F):new R.constructor(F);return R.copy(D),D}}).call(this,e(37)(i))},function(i,w,e){var a=e(110);i.exports=function(u,s){var f=s?a(u.buffer):u.buffer;return new u.constructor(f,u.byteOffset,u.length)}},function(i,w,e){var a=e(111);i.exports=function(u){var s=new u.constructor(u.byteLength);return new a(s).set(new a(u)),s}},function(i,w,e){var a=e(19).Uint8Array;i.exports=a},function(i,w){i.exports=function(e,a){var u=-1,s=e.length;for(a||(a=Array(s));++u<s;)a[u]=e[u];return a}},function(i,w,e){var a=e(114),u=e(49),s=e(50);i.exports=function(f){return typeof f.constructor!="function"||s(f)?{}:a(u(f))}},function(i,w,e){var a=e(15),u=Object.create,s=function(){function f(){}return function(y){if(!a(y))return{};if(u)return u(y);f.prototype=y;var b=new f;return f.prototype=void 0,b}}();i.exports=s},function(i,w){i.exports=function(e,a){return function(u){return e(a(u))}}},function(i,w,e){var a=e(22),u=e(20);i.exports=function(s){return u(s)&&a(s)=="[object Arguments]"}},function(i,w,e){var a=e(38),u=e(20);i.exports=function(s){return u(s)&&a(s)}},function(i,w){i.exports=function(){return!1}},function(i,w,e){var a=e(22),u=e(49),s=e(20),f=Function.prototype,y=Object.prototype,b=f.toString,R=y.hasOwnProperty,M=b.call(Object);i.exports=function(F){if(!s(F)||a(F)!="[object Object]")return!1;var D=u(F);if(D===null)return!0;var G=R.call(D,"constructor")&&D.constructor;return typeof G=="function"&&G instanceof G&&b.call(G)==M}},function(i,w,e){var a=e(22),u=e(39),s=e(20),f={};f["[object Float32Array]"]=f["[object Float64Array]"]=f["[object Int8Array]"]=f["[object Int16Array]"]=f["[object Int32Array]"]=f["[object Uint8Array]"]=f["[object Uint8ClampedArray]"]=f["[object Uint16Array]"]=f["[object Uint32Array]"]=!0,f["[object Arguments]"]=f["[object Array]"]=f["[object ArrayBuffer]"]=f["[object Boolean]"]=f["[object DataView]"]=f["[object Date]"]=f["[object Error]"]=f["[object Function]"]=f["[object Map]"]=f["[object Number]"]=f["[object Object]"]=f["[object RegExp]"]=f["[object Set]"]=f["[object String]"]=f["[object WeakMap]"]=!1,i.exports=function(y){return s(y)&&u(y.length)&&!!f[a(y)]}},function(i,w){i.exports=function(e){return function(a){return e(a)}}},function(i,w,e){(function(a){var u=e(44),s=w&&!w.nodeType&&w,f=s&&typeof a=="object"&&a&&!a.nodeType&&a,y=f&&f.exports===s&&u.process,b=function(){try{var R=f&&f.require&&f.require("util").types;return R||y&&y.binding&&y.binding("util")}catch{}}();a.exports=b}).call(this,e(37)(i))},function(i,w,e){var a=e(124),u=e(55);i.exports=function(s){return a(s,u(s))}},function(i,w,e){var a=e(54),u=e(36);i.exports=function(s,f,y,b){var R=!y;y||(y={});for(var M=-1,F=f.length;++M<F;){var D=f[M],G=b?b(y[D],s[D],D,y,s):void 0;G===void 0&&(G=s[D]),R?u(y,D,G):a(y,D,G)}return y}},function(i,w,e){var a=e(126),u=e(30),s=e(16),f=e(51),y=e(31),b=e(52),R=Object.prototype.hasOwnProperty;i.exports=function(M,F){var D=s(M),G=!D&&u(M),ne=!D&&!G&&f(M),J=!D&&!G&&!ne&&b(M),oe=D||G||ne||J,B=oe?a(M.length,String):[],j=B.length;for(var E in M)!F&&!R.call(M,E)||oe&&(E=="length"||ne&&(E=="offset"||E=="parent")||J&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||y(E,j))||B.push(E);return B}},function(i,w){i.exports=function(e,a){for(var u=-1,s=Array(e);++u<e;)s[u]=a(u);return s}},function(i,w,e){var a=e(15),u=e(50),s=e(128),f=Object.prototype.hasOwnProperty;i.exports=function(y){if(!a(y))return s(y);var b=u(y),R=[];for(var M in y)(M!="constructor"||!b&&f.call(y,M))&&R.push(M);return R}},function(i,w){i.exports=function(e){var a=[];if(e!=null)for(var u in Object(e))a.push(u);return a}},function(i,w,e){var a=e(130),u=e(135);i.exports=function(s){return a(function(f,y){var b=-1,R=y.length,M=R>1?y[R-1]:void 0,F=R>2?y[2]:void 0;for(M=s.length>3&&typeof M=="function"?(R--,M):void 0,F&&u(y[0],y[1],F)&&(M=R<3?void 0:M,R=1),f=Object(f);++b<R;){var D=y[b];D&&s(f,D,b,M)}return f})}},function(i,w,e){var a=e(56),u=e(57),s=e(58);i.exports=function(f,y){return s(u(f,y,a),f+"")}},function(i,w){i.exports=function(e,a,u){switch(u.length){case 0:return e.call(a);case 1:return e.call(a,u[0]);case 2:return e.call(a,u[0],u[1]);case 3:return e.call(a,u[0],u[1],u[2])}return e.apply(a,u)}},function(i,w,e){var a=e(133),u=e(48),s=e(56),f=u?function(y,b){return u(y,"toString",{configurable:!0,enumerable:!1,value:a(b),writable:!0})}:s;i.exports=f},function(i,w){i.exports=function(e){return function(){return e}}},function(i,w){var e=Date.now;i.exports=function(a){var u=0,s=0;return function(){var f=e(),y=16-(f-s);if(s=f,y>0){if(++u>=800)return arguments[0]}else u=0;return a.apply(void 0,arguments)}}},function(i,w,e){var a=e(26),u=e(38),s=e(31),f=e(15);i.exports=function(y,b,R){if(!f(R))return!1;var M=typeof b;return!!(M=="number"?u(R)&&s(b,R.length):M=="string"&&b in R)&&a(R[b],y)}},function(i,w){typeof window!="undefined"&&(window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)})),typeof Math.imul!="function"&&(Math.imul=function(e,a){var u=65535&e,s=65535&a;return u*s+((e>>>16&65535)*s+u*(a>>>16&65535)<<16>>>0)|0}),typeof Object.assign!="function"&&(Object.assign=function(e){if(e===null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(e),u=1;u<arguments.length;u++){var s=arguments[u];if(s!==null)for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(a[f]=s[f])}return a})},function(i,w){i.exports=function(e){if(Array.isArray(e))return e},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w){i.exports=function(e,a){var u=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(u!=null){var s,f,y,b,R=[],M=!0,F=!1;try{if(y=(u=u.call(e)).next,a===0){if(Object(u)!==u)return;M=!1}else for(;!(M=(s=y.call(u)).done)&&(R.push(s.value),R.length!==a);M=!0);}catch(D){F=!0,f=D}finally{try{if(!M&&u.return!=null&&(b=u.return(),Object(b)!==b))return}finally{if(F)throw f}}return R}},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w){i.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w,e){var a=e(13).default;i.exports=function(u,s){if(a(u)!=="object"||u===null)return u;var f=u[Symbol.toPrimitive];if(f!==void 0){var y=f.call(u,s||"default");if(a(y)!=="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(u)},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w,e){var a=e(13).default;function u(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */i.exports=u=function(){return f},i.exports.__esModule=!0,i.exports.default=i.exports;var s,f={},y=Object.prototype,b=y.hasOwnProperty,R=Object.defineProperty||function(z,L,W){z[L]=W.value},M=typeof Symbol=="function"?Symbol:{},F=M.iterator||"@@iterator",D=M.asyncIterator||"@@asyncIterator",G=M.toStringTag||"@@toStringTag";function ne(z,L,W){return Object.defineProperty(z,L,{value:W,enumerable:!0,configurable:!0,writable:!0}),z[L]}try{ne({},"")}catch{ne=function(L,W,ce){return L[W]=ce}}function J(z,L,W,ce){var ie=L&&L.prototype instanceof k?L:k,he=Object.create(ie.prototype),ge=new te(ce||[]);return R(he,"_invoke",{value:Z(z,W,ge)}),he}function oe(z,L,W){try{return{type:"normal",arg:z.call(L,W)}}catch(ce){return{type:"throw",arg:ce}}}f.wrap=J;var B="suspendedStart",j="executing",E="completed",O={};function k(){}function U(){}function P(){}var $={};ne($,F,function(){return this});var T=Object.getPrototypeOf,V=T&&T(T(fe([])));V&&V!==y&&b.call(V,F)&&($=V);var S=P.prototype=k.prototype=Object.create($);function X(z){["next","throw","return"].forEach(function(L){ne(z,L,function(W){return this._invoke(L,W)})})}function K(z,L){function W(ie,he,ge,ye){var _e=oe(z[ie],z,he);if(_e.type!=="throw"){var Oe=_e.arg,Me=Oe.value;return Me&&a(Me)=="object"&&b.call(Me,"__await")?L.resolve(Me.__await).then(function(Ce){W("next",Ce,ge,ye)},function(Ce){W("throw",Ce,ge,ye)}):L.resolve(Me).then(function(Ce){Oe.value=Ce,ge(Oe)},function(Ce){return W("throw",Ce,ge,ye)})}ye(_e.arg)}var ce;R(this,"_invoke",{value:function(ie,he){function ge(){return new L(function(ye,_e){W(ie,he,ye,_e)})}return ce=ce?ce.then(ge,ge):ge()}})}function Z(z,L,W){var ce=B;return function(ie,he){if(ce===j)throw new Error("Generator is already running");if(ce===E){if(ie==="throw")throw he;return{value:s,done:!0}}for(W.method=ie,W.arg=he;;){var ge=W.delegate;if(ge){var ye=Y(ge,W);if(ye){if(ye===O)continue;return ye}}if(W.method==="next")W.sent=W._sent=W.arg;else if(W.method==="throw"){if(ce===B)throw ce=E,W.arg;W.dispatchException(W.arg)}else W.method==="return"&&W.abrupt("return",W.arg);ce=j;var _e=oe(z,L,W);if(_e.type==="normal"){if(ce=W.done?E:"suspendedYield",_e.arg===O)continue;return{value:_e.arg,done:W.done}}_e.type==="throw"&&(ce=E,W.method="throw",W.arg=_e.arg)}}}function Y(z,L){var W=L.method,ce=z.iterator[W];if(ce===s)return L.delegate=null,W==="throw"&&z.iterator.return&&(L.method="return",L.arg=s,Y(z,L),L.method==="throw")||W!=="return"&&(L.method="throw",L.arg=new TypeError("The iterator does not provide a '"+W+"' method")),O;var ie=oe(ce,z.iterator,L.arg);if(ie.type==="throw")return L.method="throw",L.arg=ie.arg,L.delegate=null,O;var he=ie.arg;return he?he.done?(L[z.resultName]=he.value,L.next=z.nextLoc,L.method!=="return"&&(L.method="next",L.arg=s),L.delegate=null,O):he:(L.method="throw",L.arg=new TypeError("iterator result is not an object"),L.delegate=null,O)}function ae(z){var L={tryLoc:z[0]};1 in z&&(L.catchLoc=z[1]),2 in z&&(L.finallyLoc=z[2],L.afterLoc=z[3]),this.tryEntries.push(L)}function ee(z){var L=z.completion||{};L.type="normal",delete L.arg,z.completion=L}function te(z){this.tryEntries=[{tryLoc:"root"}],z.forEach(ae,this),this.reset(!0)}function fe(z){if(z||z===""){var L=z[F];if(L)return L.call(z);if(typeof z.next=="function")return z;if(!isNaN(z.length)){var W=-1,ce=function ie(){for(;++W<z.length;)if(b.call(z,W))return ie.value=z[W],ie.done=!1,ie;return ie.value=s,ie.done=!0,ie};return ce.next=ce}}throw new TypeError(a(z)+" is not iterable")}return U.prototype=P,R(S,"constructor",{value:P,configurable:!0}),R(P,"constructor",{value:U,configurable:!0}),U.displayName=ne(P,G,"GeneratorFunction"),f.isGeneratorFunction=function(z){var L=typeof z=="function"&&z.constructor;return!!L&&(L===U||(L.displayName||L.name)==="GeneratorFunction")},f.mark=function(z){return Object.setPrototypeOf?Object.setPrototypeOf(z,P):(z.__proto__=P,ne(z,G,"GeneratorFunction")),z.prototype=Object.create(S),z},f.awrap=function(z){return{__await:z}},X(K.prototype),ne(K.prototype,D,function(){return this}),f.AsyncIterator=K,f.async=function(z,L,W,ce,ie){ie===void 0&&(ie=Promise);var he=new K(J(z,L,W,ce),ie);return f.isGeneratorFunction(L)?he:he.next().then(function(ge){return ge.done?ge.value:he.next()})},X(S),ne(S,G,"Generator"),ne(S,F,function(){return this}),ne(S,"toString",function(){return"[object Generator]"}),f.keys=function(z){var L=Object(z),W=[];for(var ce in L)W.push(ce);return W.reverse(),function ie(){for(;W.length;){var he=W.pop();if(he in L)return ie.value=he,ie.done=!1,ie}return ie.done=!0,ie}},f.values=fe,te.prototype={constructor:te,reset:function(z){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(ee),!z)for(var L in this)L.charAt(0)==="t"&&b.call(this,L)&&!isNaN(+L.slice(1))&&(this[L]=s)},stop:function(){this.done=!0;var z=this.tryEntries[0].completion;if(z.type==="throw")throw z.arg;return this.rval},dispatchException:function(z){if(this.done)throw z;var L=this;function W(_e,Oe){return he.type="throw",he.arg=z,L.next=_e,Oe&&(L.method="next",L.arg=s),!!Oe}for(var ce=this.tryEntries.length-1;ce>=0;--ce){var ie=this.tryEntries[ce],he=ie.completion;if(ie.tryLoc==="root")return W("end");if(ie.tryLoc<=this.prev){var ge=b.call(ie,"catchLoc"),ye=b.call(ie,"finallyLoc");if(ge&&ye){if(this.prev<ie.catchLoc)return W(ie.catchLoc,!0);if(this.prev<ie.finallyLoc)return W(ie.finallyLoc)}else if(ge){if(this.prev<ie.catchLoc)return W(ie.catchLoc,!0)}else{if(!ye)throw new Error("try statement without catch or finally");if(this.prev<ie.finallyLoc)return W(ie.finallyLoc)}}}},abrupt:function(z,L){for(var W=this.tryEntries.length-1;W>=0;--W){var ce=this.tryEntries[W];if(ce.tryLoc<=this.prev&&b.call(ce,"finallyLoc")&&this.prev<ce.finallyLoc){var ie=ce;break}}ie&&(z==="break"||z==="continue")&&ie.tryLoc<=L&&L<=ie.finallyLoc&&(ie=null);var he=ie?ie.completion:{};return he.type=z,he.arg=L,ie?(this.method="next",this.next=ie.finallyLoc,O):this.complete(he)},complete:function(z,L){if(z.type==="throw")throw z.arg;return z.type==="break"||z.type==="continue"?this.next=z.arg:z.type==="return"?(this.rval=this.arg=z.arg,this.method="return",this.next="end"):z.type==="normal"&&L&&(this.next=L),O},finish:function(z){for(var L=this.tryEntries.length-1;L>=0;--L){var W=this.tryEntries[L];if(W.finallyLoc===z)return this.complete(W.completion,W.afterLoc),ee(W),O}},catch:function(z){for(var L=this.tryEntries.length-1;L>=0;--L){var W=this.tryEntries[L];if(W.tryLoc===z){var ce=W.completion;if(ce.type==="throw"){var ie=ce.arg;ee(W)}return ie}}throw new Error("illegal catch attempt")},delegateYield:function(z,L,W){return this.delegate={iterator:fe(z),resultName:L,nextLoc:W},this.method==="next"&&(this.arg=s),O}},f}i.exports=u,i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w,e){var a=e(2);i.exports=function(u,s){for(;!Object.prototype.hasOwnProperty.call(u,s)&&(u=a(u))!==null;);return u},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w,e){var a=e(60);i.exports=function(u){if(Array.isArray(u))return a(u)},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w){i.exports=function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w){i.exports=function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w,e){var a=e(147),u=e(157);i.exports=function(s,f){return a(s,f,function(y,b){return u(s,b)})}},function(i,w,e){var a=e(148),u=e(156),s=e(32);i.exports=function(f,y,b){for(var R=-1,M=y.length,F={};++R<M;){var D=y[R],G=a(f,D);b(G,D)&&u(F,s(D,f),G)}return F}},function(i,w,e){var a=e(32),u=e(42);i.exports=function(s,f){for(var y=0,b=(f=a(f,s)).length;s!=null&&y<b;)s=s[u(f[y++])];return y&&y==b?s:void 0}},function(i,w,e){var a=e(16),u=e(41),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,f=/^\w*$/;i.exports=function(y,b){if(a(y))return!1;var R=typeof y;return!(R!="number"&&R!="symbol"&&R!="boolean"&&y!=null&&!u(y))||f.test(y)||!s.test(y)||b!=null&&y in Object(b)}},function(i,w,e){var a=e(151),u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,f=a(function(y){var b=[];return y.charCodeAt(0)===46&&b.push(""),y.replace(u,function(R,M,F,D){b.push(F?D.replace(s,"$1"):M||R)}),b});i.exports=f},function(i,w,e){var a=e(152);i.exports=function(u){var s=a(u,function(y){return f.size===500&&f.clear(),y}),f=s.cache;return s}},function(i,w,e){var a=e(46);function u(s,f){if(typeof s!="function"||f!=null&&typeof f!="function")throw new TypeError("Expected a function");var y=function(){var b=arguments,R=f?f.apply(this,b):b[0],M=y.cache;if(M.has(R))return M.get(R);var F=s.apply(this,b);return y.cache=M.set(R,F)||M,F};return y.cache=new(u.Cache||a),y}u.Cache=a,i.exports=u},function(i,w,e){var a=e(154);i.exports=function(u){return u==null?"":a(u)}},function(i,w,e){var a=e(27),u=e(155),s=e(16),f=e(41),y=a?a.prototype:void 0,b=y?y.toString:void 0;i.exports=function R(M){if(typeof M=="string")return M;if(s(M))return u(M,R)+"";if(f(M))return b?b.call(M):"";var F=M+"";return F=="0"&&1/M==-1/0?"-0":F}},function(i,w){i.exports=function(e,a){for(var u=-1,s=e==null?0:e.length,f=Array(s);++u<s;)f[u]=a(e[u],u,e);return f}},function(i,w,e){var a=e(54),u=e(32),s=e(31),f=e(15),y=e(42);i.exports=function(b,R,M,F){if(!f(b))return b;for(var D=-1,G=(R=u(R,b)).length,ne=G-1,J=b;J!=null&&++D<G;){var oe=y(R[D]),B=M;if(oe==="__proto__"||oe==="constructor"||oe==="prototype")return b;if(D!=ne){var j=J[oe];(B=F?F(j,oe,J):void 0)===void 0&&(B=f(j)?j:s(R[D+1])?[]:{})}a(J,oe,B),J=J[oe]}return b}},function(i,w,e){var a=e(158),u=e(159);i.exports=function(s,f){return s!=null&&u(s,f,a)}},function(i,w){i.exports=function(e,a){return e!=null&&a in Object(e)}},function(i,w,e){var a=e(32),u=e(30),s=e(16),f=e(31),y=e(39),b=e(42);i.exports=function(R,M,F){for(var D=-1,G=(M=a(M,R)).length,ne=!1;++D<G;){var J=b(M[D]);if(!(ne=R!=null&&F(R,J)))break;R=R[J]}return ne||++D!=G?ne:!!(G=R==null?0:R.length)&&y(G)&&f(J,G)&&(s(R)||u(R))}},function(i,w,e){var a=e(161),u=e(57),s=e(58);i.exports=function(f){return s(u(f,void 0,a),f+"")}},function(i,w,e){var a=e(162);i.exports=function(u){return u!=null&&u.length?a(u,1):[]}},function(i,w,e){var a=e(163),u=e(164);i.exports=function s(f,y,b,R,M){var F=-1,D=f.length;for(b||(b=u),M||(M=[]);++F<D;){var G=f[F];y>0&&b(G)?y>1?s(G,y-1,b,R,M):a(M,G):R||(M[M.length]=G)}return M}},function(i,w){i.exports=function(e,a){for(var u=-1,s=a.length,f=e.length;++u<s;)e[f+u]=a[u];return e}},function(i,w,e){var a=e(27),u=e(30),s=e(16),f=a?a.isConcatSpreadable:void 0;i.exports=function(y){return s(y)||u(y)||!!(f&&y&&y[f])}},function(i,w){i.exports=function(e){try{return Function.toString.call(e).indexOf("[native code]")!==-1}catch{return typeof e=="function"}},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w,e){var a=e(40),u=e(167);function s(f,y,b){return u()?(i.exports=s=Reflect.construct.bind(),i.exports.__esModule=!0,i.exports.default=i.exports):(i.exports=s=function(R,M,F){var D=[null];D.push.apply(D,M);var G=new(Function.bind.apply(R,D));return F&&a(G,F.prototype),G},i.exports.__esModule=!0,i.exports.default=i.exports),s.apply(null,arguments)}i.exports=s,i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w){i.exports=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w,e){e.r(w),e.d(w,"BarcodeDecoder",function(){return Je}),e.d(w,"Readers",function(){return a}),e.d(w,"CameraAccess",function(){return Ge}),e.d(w,"ImageDebug",function(){return G.a}),e.d(w,"ImageWrapper",function(){return b.a}),e.d(w,"ResultCollector",function(){return kt});var a={};e.r(a),e.d(a,"BarcodeReader",function(){return Z}),e.d(a,"TwoOfFiveReader",function(){return z}),e.d(a,"NewCodabarReader",function(){return he}),e.d(a,"Code128Reader",function(){return ye}),e.d(a,"Code32Reader",function(){return it}),e.d(a,"Code39Reader",function(){return qe}),e.d(a,"Code39VINReader",function(){return Qe}),e.d(a,"Code93Reader",function(){return lt}),e.d(a,"EAN2Reader",function(){return gt}),e.d(a,"EAN5Reader",function(){return yt}),e.d(a,"EAN8Reader",function(){return mt}),e.d(a,"EANReader",function(){return Pe}),e.d(a,"I2of5Reader",function(){return xt}),e.d(a,"UPCEReader",function(){return bt}),e.d(a,"UPCReader",function(){return wt});var u=e(13),s=e.n(u),f=e(18),y=e.n(f),b=(e(136),e(11)),R=e(12),M=e.n(R),F=e(8),D=e.n(F),G=e(17),ne=e(3),J=e.n(ne),oe=e(4),B=e.n(oe),j=e(1),E=e.n(j),O=e(7),k=e.n(O),U=e(6),P=e.n(U),$=e(2),T=e.n($),V=e(0),S=e.n(V),X=e(9),K=function(h){return h[h.Forward=1]="Forward",h[h.Reverse=-1]="Reverse",h}({}),Z=function(){function h(x,l){J()(this,h),S()(this,"_row",[]),S()(this,"config",{}),S()(this,"supplements",[]),S()(this,"SINGLE_CODE_ERROR",0),S()(this,"FORMAT","unknown"),S()(this,"CONFIG_KEYS",{}),this._row=[],this.config=x||{},l&&(this.supplements=l)}return B()(h,[{key:"_nextUnset",value:function(x){for(var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=l;t<x.length;t++)if(!x[t])return t;return x.length}},{key:"_matchPattern",value:function(x,l){for(var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.SINGLE_CODE_ERROR||1,r=0,n=0,c=0,p=0,v=0,g=0,_=0,C=0;C<x.length;C++)c+=x[C],p+=l[C];if(c<p)return Number.MAX_VALUE;t*=v=c/p;for(var H=0;H<x.length;H++){if(g=x[H],_=l[H]*v,(n=Math.abs(g-_)/_)>t)return Number.MAX_VALUE;r+=n}return r/p}},{key:"_nextSet",value:function(x){for(var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=l;t<x.length;t++)if(x[t])return t;return x.length}},{key:"_correctBars",value:function(x,l,t){for(var r=t.length,n=0;r--;)(n=x[t[r]]*(1-(1-l)/2))>1&&(x[t[r]]=n)}},{key:"decodePattern",value:function(x){this._row=x;var l=this.decode();return l===null?(this._row.reverse(),(l=this.decode())&&(l.direction=K.Reverse,l.start=this._row.length-l.start,l.end=this._row.length-l.end)):l.direction=K.Forward,l&&(l.format=this.FORMAT),l}},{key:"_matchRange",value:function(x,l,t){var r;for(r=x=x<0?0:x;r<l;r++)if(this._row[r]!==t)return!1;return!0}},{key:"_fillCounters",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._nextUnset(this._row),l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._row.length,t=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],r=[],n=0;r[n]=0;for(var c=x;c<l;c++)this._row[c]^(t?1:0)?r[n]++:(r[++n]=1,t=!t);return r}},{key:"_toCounters",value:function(x,l){var t=l.length,r=this._row.length,n=!this._row[x],c=0;X.a.init(l,0);for(var p=x;p<r;p++)if(this._row[p]^(n?1:0))l[c]++;else{if(++c===t)break;l[c]=1,n=!n}return l}},{key:"decodeImage",value:function(x){return null}}],[{key:"Exception",get:function(){return{StartNotFoundException:"Start-Info was not found!",CodeNotFoundException:"Code could not be found!",PatternNotFoundException:"Pattern could not be found!"}}}]),h}();function Y(h){var x=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,t=T()(h);if(x){var r=T()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return P()(this,l)}}var ae=[3,1,3,1,1,1],ee=[3,1,1,1,3],te=[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]],fe=ae.reduce(function(h,x){return h+x},0),z=function(h){k()(l,h);var x=Y(l);function l(){var t;J()(this,l);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return t=x.call.apply(x,[this].concat(n)),S()(E()(t),"barSpaceRatio",[1,1]),S()(E()(t),"FORMAT","2of5"),S()(E()(t),"SINGLE_CODE_ERROR",.78),S()(E()(t),"AVG_CODE_ERROR",.3),t}return B()(l,[{key:"_findPattern",value:function(t,r){var n=arguments.length>2&&arguments[2]!==void 0&&arguments[2],c=arguments.length>3&&arguments[3]!==void 0&&arguments[3],p=[],v=0,g={error:Number.MAX_VALUE,code:-1,start:0,end:0},_=0,C=0,H=this.AVG_CODE_ERROR;r||(r=this._nextSet(this._row));for(var N=0;N<t.length;N++)p[N]=0;for(var Q=r;Q<this._row.length;Q++)if(this._row[Q]^(n?1:0))p[v]++;else{if(v===p.length-1){_=0;for(var ue=0;ue<p.length;ue++)_+=p[ue];if((C=this._matchPattern(p,t))<H)return g.error=C,g.start=Q-_,g.end=Q,g;if(!c)return null;for(var de=0;de<p.length-2;de++)p[de]=p[de+2];p[p.length-2]=0,p[p.length-1]=0,v--}else v++;p[v]=1,n=!n}return null}},{key:"_findStart",value:function(){for(var t=null,r=this._nextSet(this._row),n=1,c=0;!t;){if(!(t=this._findPattern(ae,r,!1,!0)))return null;if(n=Math.floor((t.end-t.start)/fe),(c=t.start-5*n)>=0&&this._matchRange(c,t.start,0))return t;r=t.end,t=null}return t}},{key:"_verifyTrailingWhitespace",value:function(t){var r=t.end+(t.end-t.start)/2;return r<this._row.length&&this._matchRange(t.end,r,0)?t:null}},{key:"_findEnd",value:function(){this._row.reverse();var t=this._nextSet(this._row),r=this._findPattern(ee,t,!1,!0);if(this._row.reverse(),r===null)return null;var n=r.start;return r.start=this._row.length-r.end,r.end=this._row.length-n,r!==null?this._verifyTrailingWhitespace(r):null}},{key:"_verifyCounterLength",value:function(t){return t.length%10==0}},{key:"_decodeCode",value:function(t){for(var r=this.AVG_CODE_ERROR,n={error:Number.MAX_VALUE,code:-1,start:0,end:0},c=0;c<te.length;c++){var p=this._matchPattern(t,te[c]);p<n.error&&(n.code=c,n.error=p)}return n.error<r?n:null}},{key:"_decodePayload",value:function(t,r,n){for(var c=0,p=t.length,v=[0,0,0,0,0],g=null;c<p;){for(var _=0;_<5;_++)v[_]=t[c]*this.barSpaceRatio[0],c+=2;if(!(g=this._decodeCode(v)))return null;r.push("".concat(g.code)),n.push(g)}return g}},{key:"decode",value:function(t,r){var n=this._findStart();if(!n)return null;var c=this._findEnd();if(!c)return null;var p=this._fillCounters(n.end,c.start,!1);if(!this._verifyCounterLength(p))return null;var v=[];v.push(n);var g=[];return this._decodePayload(p,g,v)?g.length<5?null:(v.push(c),{code:g.join(""),start:n.start,end:c.end,startInfo:n,decodedCodes:v,format:this.FORMAT}):null}}]),l}(Z);function L(h){var x=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,t=T()(h);if(x){var r=T()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return P()(this,l)}}var W=[48,49,50,51,52,53,54,55,56,57,45,36,58,47,46,43,65,66,67,68],ce=[3,6,9,96,18,66,33,36,48,72,12,24,69,81,84,21,26,41,11,14],ie=[26,41,11,14],he=function(h){k()(l,h);var x=L(l);function l(){var t;J()(this,l);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return t=x.call.apply(x,[this].concat(n)),S()(E()(t),"_counters",[]),S()(E()(t),"FORMAT","codabar"),t}return B()(l,[{key:"_computeAlternatingThreshold",value:function(t,r){for(var n=Number.MAX_VALUE,c=0,p=0,v=t;v<r;v+=2)(p=this._counters[v])>c&&(c=p),p<n&&(n=p);return(n+c)/2|0}},{key:"_toPattern",value:function(t){var r=t+7;if(r>this._counters.length)return-1;for(var n=this._computeAlternatingThreshold(t,r),c=this._computeAlternatingThreshold(t+1,r),p=64,v=0,g=0,_=0;_<7;_++)v=(1&_)==0?n:c,this._counters[t+_]>v&&(g|=p),p>>=1;return g}},{key:"_isStartEnd",value:function(t){for(var r=0;r<ie.length;r++)if(ie[r]===t)return!0;return!1}},{key:"_sumCounters",value:function(t,r){for(var n=0,c=t;c<r;c++)n+=this._counters[c];return n}},{key:"_findStart",value:function(){for(var t=this._nextUnset(this._row),r=1;r<this._counters.length;r++){var n=this._toPattern(r);if(n!==-1&&this._isStartEnd(n))return{start:t+=this._sumCounters(0,r),end:t+this._sumCounters(r,r+8),startCounter:r,endCounter:r+8}}return null}},{key:"_patternToChar",value:function(t){for(var r=0;r<ce.length;r++)if(ce[r]===t)return String.fromCharCode(W[r]);return null}},{key:"_calculatePatternLength",value:function(t){for(var r=0,n=t;n<t+7;n++)r+=this._counters[n];return r}},{key:"_verifyWhitespace",value:function(t,r){return(t-1<=0||this._counters[t-1]>=this._calculatePatternLength(t)/2)&&(r+8>=this._counters.length||this._counters[r+7]>=this._calculatePatternLength(r)/2)}},{key:"_charToPattern",value:function(t){for(var r=t.charCodeAt(0),n=0;n<W.length;n++)if(W[n]===r)return ce[n];return 0}},{key:"_thresholdResultPattern",value:function(t,r){for(var n,c={space:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}},bar:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}}},p=r,v=0;v<t.length;v++){n=this._charToPattern(t[v]);for(var g=6;g>=0;g--){var _=(1&g)==2?c.bar:c.space,C=(1&n)==1?_.wide:_.narrow;C.size+=this._counters[p+g],C.counts++,n>>=1}p+=8}return["space","bar"].forEach(function(H){var N=c[H];N.wide.min=Math.floor((N.narrow.size/N.narrow.counts+N.wide.size/N.wide.counts)/2),N.narrow.max=Math.ceil(N.wide.min),N.wide.max=Math.ceil((2*N.wide.size+1.5)/N.wide.counts)}),c}},{key:"_validateResult",value:function(t,r){for(var n,c=this._thresholdResultPattern(t,r),p=r,v=0;v<t.length;v++){n=this._charToPattern(t[v]);for(var g=6;g>=0;g--){var _=(1&g)==0?c.bar:c.space,C=(1&n)==1?_.wide:_.narrow,H=this._counters[p+g];if(H<C.min||H>C.max)return!1;n>>=1}p+=8}return!0}},{key:"decode",value:function(t,r){if(this._counters=this._fillCounters(),!(r=this._findStart()))return null;var n,c=r.startCounter,p=[];do{if((n=this._toPattern(c))<0)return null;var v=this._patternToChar(n);if(v===null)return null;if(p.push(v),c+=8,p.length>1&&this._isStartEnd(n))break}while(c<this._counters.length);if(p.length-2<4||!this._isStartEnd(n)||!this._verifyWhitespace(r.startCounter,c-8)||!this._validateResult(p,r.startCounter))return null;c=c>this._counters.length?this._counters.length:c;var g=r.start+this._sumCounters(r.startCounter,c-8);return{code:p.join(""),start:r.start,end:g,startInfo:r,decodedCodes:p,format:this.FORMAT}}}]),l}(Z);function ge(h){var x=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,t=T()(h);if(x){var r=T()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return P()(this,l)}}var ye=function(h){k()(l,h);var x=ge(l);function l(){var t;J()(this,l);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return t=x.call.apply(x,[this].concat(n)),S()(E()(t),"CODE_SHIFT",98),S()(E()(t),"CODE_C",99),S()(E()(t),"CODE_B",100),S()(E()(t),"CODE_A",101),S()(E()(t),"START_CODE_A",103),S()(E()(t),"START_CODE_B",104),S()(E()(t),"START_CODE_C",105),S()(E()(t),"STOP_CODE",106),S()(E()(t),"CODE_PATTERN",[[2,1,2,2,2,2],[2,2,2,1,2,2],[2,2,2,2,2,1],[1,2,1,2,2,3],[1,2,1,3,2,2],[1,3,1,2,2,2],[1,2,2,2,1,3],[1,2,2,3,1,2],[1,3,2,2,1,2],[2,2,1,2,1,3],[2,2,1,3,1,2],[2,3,1,2,1,2],[1,1,2,2,3,2],[1,2,2,1,3,2],[1,2,2,2,3,1],[1,1,3,2,2,2],[1,2,3,1,2,2],[1,2,3,2,2,1],[2,2,3,2,1,1],[2,2,1,1,3,2],[2,2,1,2,3,1],[2,1,3,2,1,2],[2,2,3,1,1,2],[3,1,2,1,3,1],[3,1,1,2,2,2],[3,2,1,1,2,2],[3,2,1,2,2,1],[3,1,2,2,1,2],[3,2,2,1,1,2],[3,2,2,2,1,1],[2,1,2,1,2,3],[2,1,2,3,2,1],[2,3,2,1,2,1],[1,1,1,3,2,3],[1,3,1,1,2,3],[1,3,1,3,2,1],[1,1,2,3,1,3],[1,3,2,1,1,3],[1,3,2,3,1,1],[2,1,1,3,1,3],[2,3,1,1,1,3],[2,3,1,3,1,1],[1,1,2,1,3,3],[1,1,2,3,3,1],[1,3,2,1,3,1],[1,1,3,1,2,3],[1,1,3,3,2,1],[1,3,3,1,2,1],[3,1,3,1,2,1],[2,1,1,3,3,1],[2,3,1,1,3,1],[2,1,3,1,1,3],[2,1,3,3,1,1],[2,1,3,1,3,1],[3,1,1,1,2,3],[3,1,1,3,2,1],[3,3,1,1,2,1],[3,1,2,1,1,3],[3,1,2,3,1,1],[3,3,2,1,1,1],[3,1,4,1,1,1],[2,2,1,4,1,1],[4,3,1,1,1,1],[1,1,1,2,2,4],[1,1,1,4,2,2],[1,2,1,1,2,4],[1,2,1,4,2,1],[1,4,1,1,2,2],[1,4,1,2,2,1],[1,1,2,2,1,4],[1,1,2,4,1,2],[1,2,2,1,1,4],[1,2,2,4,1,1],[1,4,2,1,1,2],[1,4,2,2,1,1],[2,4,1,2,1,1],[2,2,1,1,1,4],[4,1,3,1,1,1],[2,4,1,1,1,2],[1,3,4,1,1,1],[1,1,1,2,4,2],[1,2,1,1,4,2],[1,2,1,2,4,1],[1,1,4,2,1,2],[1,2,4,1,1,2],[1,2,4,2,1,1],[4,1,1,2,1,2],[4,2,1,1,1,2],[4,2,1,2,1,1],[2,1,2,1,4,1],[2,1,4,1,2,1],[4,1,2,1,2,1],[1,1,1,1,4,3],[1,1,1,3,4,1],[1,3,1,1,4,1],[1,1,4,1,1,3],[1,1,4,3,1,1],[4,1,1,1,1,3],[4,1,1,3,1,1],[1,1,3,1,4,1],[1,1,4,1,3,1],[3,1,1,1,4,1],[4,1,1,1,3,1],[2,1,1,4,1,2],[2,1,1,2,1,4],[2,1,1,2,3,2],[2,3,3,1,1,1,2]]),S()(E()(t),"SINGLE_CODE_ERROR",.64),S()(E()(t),"AVG_CODE_ERROR",.3),S()(E()(t),"FORMAT","code_128"),S()(E()(t),"MODULE_INDICES",{bar:[0,2,4],space:[1,3,5]}),t}return B()(l,[{key:"_decodeCode",value:function(t,r){for(var n={error:Number.MAX_VALUE,code:-1,start:t,end:t,correction:{bar:1,space:1}},c=[0,0,0,0,0,0],p=t,v=!this._row[p],g=0,_=p;_<this._row.length;_++)if(this._row[_]^(v?1:0))c[g]++;else{if(g===c.length-1){r&&this._correct(c,r);for(var C=0;C<this.CODE_PATTERN.length;C++){var H=this._matchPattern(c,this.CODE_PATTERN[C]);H<n.error&&(n.code=C,n.error=H)}return n.end=_,n.code===-1||n.error>this.AVG_CODE_ERROR?null:(this.CODE_PATTERN[n.code]&&(n.correction.bar=this.calculateCorrection(this.CODE_PATTERN[n.code],c,this.MODULE_INDICES.bar),n.correction.space=this.calculateCorrection(this.CODE_PATTERN[n.code],c,this.MODULE_INDICES.space)),n)}c[++g]=1,v=!v}return null}},{key:"_correct",value:function(t,r){this._correctBars(t,r.bar,this.MODULE_INDICES.bar),this._correctBars(t,r.space,this.MODULE_INDICES.space)}},{key:"_findStart",value:function(){for(var t=[0,0,0,0,0,0],r=this._nextSet(this._row),n={error:Number.MAX_VALUE,code:-1,start:0,end:0,correction:{bar:1,space:1}},c=!1,p=0,v=r;v<this._row.length;v++)if(this._row[v]^(c?1:0))t[p]++;else{if(p===t.length-1){for(var g=t.reduce(function(N,Q){return N+Q},0),_=this.START_CODE_A;_<=this.START_CODE_C;_++){var C=this._matchPattern(t,this.CODE_PATTERN[_]);C<n.error&&(n.code=_,n.error=C)}if(n.error<this.AVG_CODE_ERROR)return n.start=v-g,n.end=v,n.correction.bar=this.calculateCorrection(this.CODE_PATTERN[n.code],t,this.MODULE_INDICES.bar),n.correction.space=this.calculateCorrection(this.CODE_PATTERN[n.code],t,this.MODULE_INDICES.space),n;for(var H=0;H<4;H++)t[H]=t[H+2];t[4]=0,t[5]=0,p--}else p++;t[p]=1,c=!c}return null}},{key:"decode",value:function(t,r){var n=this,c=this._findStart();if(c===null)return null;var p={code:c.code,start:c.start,end:c.end,correction:{bar:c.correction.bar,space:c.correction.space}},v=[];v.push(p);for(var g=p.code,_=function(le){switch(le){case n.START_CODE_A:return n.CODE_A;case n.START_CODE_B:return n.CODE_B;case n.START_CODE_C:return n.CODE_C;default:return null}}(p.code),C=!1,H=!1,N=H,Q=!0,ue=0,de=[],ve=[];!C;){if(N=H,H=!1,(p=this._decodeCode(p.end,p.correction))!==null)switch(p.code!==this.STOP_CODE&&(Q=!0),p.code!==this.STOP_CODE&&(de.push(p.code),g+=++ue*p.code),v.push(p),_){case this.CODE_A:if(p.code<64)ve.push(String.fromCharCode(32+p.code));else if(p.code<96)ve.push(String.fromCharCode(p.code-64));else switch(p.code!==this.STOP_CODE&&(Q=!1),p.code){case this.CODE_SHIFT:H=!0,_=this.CODE_B;break;case this.CODE_B:_=this.CODE_B;break;case this.CODE_C:_=this.CODE_C;break;case this.STOP_CODE:C=!0}break;case this.CODE_B:if(p.code<96)ve.push(String.fromCharCode(32+p.code));else switch(p.code!==this.STOP_CODE&&(Q=!1),p.code){case this.CODE_SHIFT:H=!0,_=this.CODE_A;break;case this.CODE_A:_=this.CODE_A;break;case this.CODE_C:_=this.CODE_C;break;case this.STOP_CODE:C=!0}break;case this.CODE_C:if(p.code<100)ve.push(p.code<10?"0"+p.code:p.code);else switch(p.code!==this.STOP_CODE&&(Q=!1),p.code){case this.CODE_A:_=this.CODE_A;break;case this.CODE_B:_=this.CODE_B;break;case this.STOP_CODE:C=!0}}else C=!0;N&&(_=_===this.CODE_A?this.CODE_B:this.CODE_A)}return p===null?null:(p.end=this._nextUnset(this._row,p.end),this._verifyTrailingWhitespace(p)?(g-=ue*de[de.length-1])%103!==de[de.length-1]?null:ve.length?(Q&&ve.splice(ve.length-1,1),{code:ve.join(""),start:c.start,end:p.end,codeset:_,startInfo:c,decodedCodes:v,endInfo:p,format:this.FORMAT}):null:null)}},{key:"_verifyTrailingWhitespace",value:function(t){var r;return(r=t.end+(t.end-t.start)/2)<this._row.length&&this._matchRange(t.end,r,0)?t:null}},{key:"calculateCorrection",value:function(t,r,n){for(var c=n.length,p=0,v=0;c--;)v+=t[n[c]],p+=r[n[c]];return v/p}}]),l}(Z),_e=e(14),Oe=e.n(_e),Me=e(33),Ce=e.n(Me);function ot(h){var x=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,t=T()(h);if(x){var r=T()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return P()(this,l)}}var Lt=new Uint16Array(Ce()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. *$/+%").map(function(h){return h.charCodeAt(0)})),at=new Uint16Array([52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,148,168,162,138,42]),qe=function(h){k()(l,h);var x=ot(l);function l(){var t;J()(this,l);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return t=x.call.apply(x,[this].concat(n)),S()(E()(t),"FORMAT","code_39"),t}return B()(l,[{key:"_findStart",value:function(){for(var t=this._nextSet(this._row),r=t,n=new Uint16Array([0,0,0,0,0,0,0,0,0]),c=0,p=!1,v=t;v<this._row.length;v++)if(this._row[v]^(p?1:0))n[c]++;else{if(c===n.length-1){if(this._toPattern(n)===148){var g=Math.floor(Math.max(0,r-(v-r)/4));if(this._matchRange(g,r,0))return{start:r,end:v}}r+=n[0]+n[1];for(var _=0;_<7;_++)n[_]=n[_+2];n[7]=0,n[8]=0,c--}else c++;n[c]=1,p=!p}return null}},{key:"_toPattern",value:function(t){for(var r=t.length,n=0,c=r,p=0;c>3;){n=this._findNextWidth(t,n),c=0;for(var v=0,g=0;g<r;g++)t[g]>n&&(v|=1<<r-1-g,c++,p+=t[g]);if(c===3){for(var _=0;_<r&&c>0;_++)if(t[_]>n&&(c--,2*t[_]>=p))return-1;return v}}return-1}},{key:"_findNextWidth",value:function(t,r){for(var n=Number.MAX_VALUE,c=0;c<t.length;c++)t[c]<n&&t[c]>r&&(n=t[c]);return n}},{key:"_patternToChar",value:function(t){for(var r=0;r<at.length;r++)if(at[r]===t)return String.fromCharCode(Lt[r]);return null}},{key:"_verifyTrailingWhitespace",value:function(t,r,n){var c=X.a.sum(n);return 3*(r-t-c)>=c}},{key:"decode",value:function(){var t=new Uint16Array([0,0,0,0,0,0,0,0,0]),r=[],n=this._findStart();if(!n)return null;var c,p,v=this._nextSet(this._row,n.end);do{t=this._toCounters(v,t);var g=this._toPattern(t);if(g<0||(c=this._patternToChar(g))===null)return null;r.push(c),p=v,v+=X.a.sum(t),v=this._nextSet(this._row,v)}while(c!=="*");return r.pop(),r.length&&this._verifyTrailingWhitespace(p,v,t)?{code:r.join(""),start:n.start,end:v,startInfo:n,decodedCodes:r,format:this.FORMAT}:null}}]),l}(Z);function Ut(h){var x=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,t=T()(h);if(x){var r=T()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return P()(this,l)}}var Nt=/[AEIO]/g,it=function(h){k()(l,h);var x=Ut(l);function l(){var t;J()(this,l);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return t=x.call.apply(x,[this].concat(n)),S()(E()(t),"FORMAT","code_32_reader"),t}return B()(l,[{key:"_decodeCode32",value:function(t){if(/[^0-9BCDFGHJKLMNPQRSTUVWXYZ]/.test(t))return null;for(var r=0,n=0;n<t.length;n++)r=32*r+"0123456789BCDFGHJKLMNPQRSTUVWXYZ".indexOf(t[n]);var c="".concat(r);return c.length<9&&(c=("000000000"+c).slice(-9)),"A"+c}},{key:"_checkChecksum",value:function(t){return!!t}},{key:"decode",value:function(){var t=Oe()(T()(l.prototype),"decode",this).call(this);if(!t)return null;var r=t.code;if(!r||(r=r.replace(Nt,""),!this._checkChecksum(r)))return null;var n=this._decodeCode32(r);return n?(t.code=n,t):null}}]),l}(qe);function Ft(h){var x=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,t=T()(h);if(x){var r=T()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return P()(this,l)}}var ut=/[IOQ]/g,ct=/[A-Z0-9]{17}/,Qe=function(h){k()(l,h);var x=Ft(l);function l(){var t;J()(this,l);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return t=x.call.apply(x,[this].concat(n)),S()(E()(t),"FORMAT","code_39_vin"),t}return B()(l,[{key:"_checkChecksum",value:function(t){return!!t}},{key:"decode",value:function(){var t=Oe()(T()(l.prototype),"decode",this).call(this);if(!t)return null;var r=t.code;return r&&(r=r.replace(ut,"")).match(ct)&&this._checkChecksum(r)?(t.code=r,t):null}}]),l}(qe);function st(h){var x=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,t=T()(h);if(x){var r=T()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return P()(this,l)}}var Ye=new Uint16Array(Ce()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*").map(function(h){return h.charCodeAt(0)})),ft=new Uint16Array([276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350]),lt=function(h){k()(l,h);var x=st(l);function l(){var t;J()(this,l);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return t=x.call.apply(x,[this].concat(n)),S()(E()(t),"FORMAT","code_93"),t}return B()(l,[{key:"_patternToChar",value:function(t){for(var r=0;r<ft.length;r++)if(ft[r]===t)return String.fromCharCode(Ye[r]);return null}},{key:"_toPattern",value:function(t){for(var r=t.length,n=t.reduce(function(_,C){return _+C},0),c=0,p=0;p<r;p++){var v=Math.round(9*t[p]/n);if(v<1||v>4)return-1;if((1&p)==0)for(var g=0;g<v;g++)c=c<<1|1;else c<<=v}return c}},{key:"_findStart",value:function(){for(var t=this._nextSet(this._row),r=t,n=new Uint16Array([0,0,0,0,0,0]),c=0,p=!1,v=t;v<this._row.length;v++)if(this._row[v]^(p?1:0))n[c]++;else{if(c===n.length-1){if(this._toPattern(n)===350){var g=Math.floor(Math.max(0,r-(v-r)/4));if(this._matchRange(g,r,0))return{start:r,end:v}}r+=n[0]+n[1];for(var _=0;_<4;_++)n[_]=n[_+2];n[4]=0,n[5]=0,c--}else c++;n[c]=1,p=!p}return null}},{key:"_verifyEnd",value:function(t,r){return!(t===r||!this._row[r])}},{key:"_decodeExtended",value:function(t){for(var r=t.length,n=[],c=0;c<r;c++){var p=t[c];if(p>="a"&&p<="d"){if(c>r-2)return null;var v=t[++c],g=v.charCodeAt(0),_=void 0;switch(p){case"a":if(!(v>="A"&&v<="Z"))return null;_=String.fromCharCode(g-64);break;case"b":if(v>="A"&&v<="E")_=String.fromCharCode(g-38);else if(v>="F"&&v<="J")_=String.fromCharCode(g-11);else if(v>="K"&&v<="O")_=String.fromCharCode(g+16);else if(v>="P"&&v<="S")_=String.fromCharCode(g+43);else{if(!(v>="T"&&v<="Z"))return null;_=String.fromCharCode(127)}break;case"c":if(v>="A"&&v<="O")_=String.fromCharCode(g-32);else{if(v!=="Z")return null;_=":"}break;case"d":if(!(v>="A"&&v<="Z"))return null;_=String.fromCharCode(g+32);break;default:return console.warn("* code_93_reader _decodeExtended hit default case, this may be an error",_),null}n.push(_)}else n.push(p)}return n}},{key:"_matchCheckChar",value:function(t,r,n){var c=t.slice(0,r),p=c.length,v=c.reduce(function(g,_,C){return g+((-1*C+(p-1))%n+1)*Ye.indexOf(_.charCodeAt(0))},0);return Ye[v%47]===t[r].charCodeAt(0)}},{key:"_verifyChecksums",value:function(t){return this._matchCheckChar(t,t.length-2,20)&&this._matchCheckChar(t,t.length-1,15)}},{key:"decode",value:function(t,r){if(!(r=this._findStart()))return null;var n,c,p=new Uint16Array([0,0,0,0,0,0]),v=[],g=this._nextSet(this._row,r.end);do{p=this._toCounters(g,p);var _=this._toPattern(p);if(_<0||(c=this._patternToChar(_))===null)return null;v.push(c),n=g,g+=X.a.sum(p),g=this._nextSet(this._row,g)}while(c!=="*");return v.pop(),v.length&&this._verifyEnd(n,g)&&this._verifyChecksums(v)?(v=v.slice(0,v.length-2),(v=this._decodeExtended(v))===null?null:{code:v.join(""),start:r.start,end:g,startInfo:r,decodedCodes:v,format:this.FORMAT}):null}}]),l}(Z);function dt(h,x){var l=Object.keys(h);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(h);x&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(h,r).enumerable})),l.push.apply(l,t)}return l}function Ke(h){for(var x=1;x<arguments.length;x++){var l=arguments[x]!=null?arguments[x]:{};x%2?dt(Object(l),!0).forEach(function(t){S()(h,t,l[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(l)):dt(Object(l)).forEach(function(t){Object.defineProperty(h,t,Object.getOwnPropertyDescriptor(l,t))})}return h}function Bt(h){var x=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,t=T()(h);if(x){var r=T()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return P()(this,l)}}var Wt=[1,1,1],ht=[1,1,1,1,1],qt=[1,1,2],pt=[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2],[1,1,2,3],[1,2,2,2],[2,2,1,2],[1,1,4,1],[2,3,1,1],[1,3,2,1],[4,1,1,1],[2,1,3,1],[3,1,2,1],[2,1,1,3]],vt=[0,11,13,14,19,25,28,21,22,26],Pe=function(h){k()(l,h);var x=Bt(l);function l(t,r){var n;return J()(this,l),n=x.call(this,y()({supplements:[]},t),r),S()(E()(n),"FORMAT","ean_13"),S()(E()(n),"SINGLE_CODE_ERROR",.7),S()(E()(n),"STOP_PATTERN",[1,1,1]),n}return B()(l,[{key:"_findPattern",value:function(t,r,n,c){var p=new Array(t.length).fill(0),v={error:Number.MAX_VALUE,start:0,end:0},g=0;r||(r=this._nextSet(this._row));for(var _=!1,C=r;C<this._row.length;C++)if(this._row[C]^(n?1:0))p[g]+=1;else{if(g===p.length-1){var H=this._matchPattern(p,t);if(H<.48&&v.error&&H<v.error)return _=!0,v.error=H,v.start=C-p.reduce(function(Q,ue){return Q+ue},0),v.end=C,v;if(c){for(var N=0;N<p.length-2;N++)p[N]=p[N+2];p[p.length-2]=0,p[p.length-1]=0,g--}}else g++;p[g]=1,n=!n}return _?v:null}},{key:"_decodeCode",value:function(t,r){var n=[0,0,0,0],c=t,p={error:Number.MAX_VALUE,code:-1,start:t,end:t},v=!this._row[c],g=0;r||(r=pt.length);for(var _=c;_<this._row.length;_++)if(this._row[_]^(v?1:0))n[g]++;else{if(g===n.length-1){for(var C=0;C<r;C++){var H=this._matchPattern(n,pt[C]);p.end=_,H<p.error&&(p.code=C,p.error=H)}return p.error>.48?null:p}n[++g]=1,v=!v}return null}},{key:"_findStart",value:function(){for(var t=this._nextSet(this._row),r=null;!r;){if(!(r=this._findPattern(Wt,t,!1,!0)))return null;var n=r.start-(r.end-r.start);if(n>=0&&this._matchRange(n,r.start,0))return r;t=r.end,r=null}return null}},{key:"_calculateFirstDigit",value:function(t){for(var r=0;r<vt.length;r++)if(t===vt[r])return r;return null}},{key:"_decodePayload",value:function(t,r,n){for(var c=Ke({},t),p=0,v=0;v<6;v++){if(!(c=this._decodeCode(c.end)))return null;c.code>=10?(c.code-=10,p|=1<<5-v):p|=0<<5-v,r.push(c.code),n.push(c)}var g=this._calculateFirstDigit(p);if(g===null)return null;r.unshift(g);var _=this._findPattern(ht,c.end,!0,!1);if(_===null||!_.end)return null;n.push(_);for(var C=0;C<6;C++){if(!(_=this._decodeCode(_.end,10)))return null;n.push(_),r.push(_.code)}return _}},{key:"_verifyTrailingWhitespace",value:function(t){var r=t.end+(t.end-t.start);return r<this._row.length&&this._matchRange(t.end,r,0)?t:null}},{key:"_findEnd",value:function(t,r){var n=this._findPattern(this.STOP_PATTERN,t,r,!1);return n!==null?this._verifyTrailingWhitespace(n):null}},{key:"_checksum",value:function(t){for(var r=0,n=t.length-2;n>=0;n-=2)r+=t[n];r*=3;for(var c=t.length-1;c>=0;c-=2)r+=t[c];return r%10==0}},{key:"_decodeExtensions",value:function(t){var r=this._nextSet(this._row,t),n=this._findPattern(qt,r,!1,!1);if(n===null)return null;for(var c=0;c<this.supplements.length;c++)try{var p=this.supplements[c].decode(this._row,n.end);if(p!==null)return{code:p.code,start:r,startInfo:n,end:p.end,decodedCodes:p.decodedCodes,format:this.supplements[c].FORMAT}}catch(v){console.error("* decodeExtensions error in ",this.supplements[c],": ",v)}return null}},{key:"decode",value:function(t,r){var n=new Array,c=new Array,p={},v=this._findStart();if(!v)return null;var g={start:v.start,end:v.end};if(c.push(g),!(g=this._decodePayload(g,n,c))||!(g=this._findEnd(g.end,!1))||(c.push(g),!this._checksum(n)))return null;if(this.supplements.length>0){var _=this._decodeExtensions(g.end);if(!_||!_.decodedCodes)return null;var C=_.decodedCodes[_.decodedCodes.length-1],H={start:C.start+((C.end-C.start)/2|0),end:C.end};if(!this._verifyTrailingWhitespace(H))return null;p={supplement:_,code:n.join("")+_.code}}return Ke(Ke({code:n.join(""),start:v.start,end:g.end,startInfo:v,decodedCodes:c},p),{},{format:this.FORMAT})}}]),l}(Z);function Vt(h){var x=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,t=T()(h);if(x){var r=T()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return P()(this,l)}}var gt=function(h){k()(l,h);var x=Vt(l);function l(){var t;J()(this,l);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return t=x.call.apply(x,[this].concat(n)),S()(E()(t),"FORMAT","ean_2"),t}return B()(l,[{key:"decode",value:function(t,r){t&&(this._row=t);var n=0,c=r,p=this._row.length,v=[],g=[],_=null;if(c===void 0)return null;for(var C=0;C<2&&c<p;C++){if(!(_=this._decodeCode(c)))return null;g.push(_),v.push(_.code%10),_.code>=10&&(n|=1<<1-C),C!==1&&(c=this._nextSet(this._row,_.end),c=this._nextUnset(this._row,c))}if(v.length!==2||parseInt(v.join(""))%4!==n)return null;var H=this._findStart();return{code:v.join(""),decodedCodes:g,end:_.end,format:this.FORMAT,startInfo:H,start:H.start}}}]),l}(Pe);function Gt(h){var x=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,t=T()(h);if(x){var r=T()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return P()(this,l)}}var Xt=[24,20,18,17,12,6,3,10,9,5],yt=function(h){k()(l,h);var x=Gt(l);function l(){var t;J()(this,l);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return t=x.call.apply(x,[this].concat(n)),S()(E()(t),"FORMAT","ean_5"),t}return B()(l,[{key:"decode",value:function(t,r){if(r===void 0)return null;t&&(this._row=t);for(var n=0,c=r,p=this._row.length,v=null,g=[],_=[],C=0;C<5&&c<p;C++){if(!(v=this._decodeCode(c)))return null;_.push(v),g.push(v.code%10),v.code>=10&&(n|=1<<4-C),C!==4&&(c=this._nextSet(this._row,v.end),c=this._nextUnset(this._row,c))}if(g.length!==5||function(N){for(var Q=N.length,ue=0,de=Q-2;de>=0;de-=2)ue+=N[de];ue*=3;for(var ve=Q-1;ve>=0;ve-=2)ue+=N[ve];return(ue*=3)%10}(g)!==function(N){for(var Q=0;Q<10;Q++)if(N===Xt[Q])return Q;return null}(n))return null;var H=this._findStart();return{code:g.join(""),decodedCodes:_,end:v.end,format:this.FORMAT,startInfo:H,start:H.start}}}]),l}(Pe);function je(h){var x=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,t=T()(h);if(x){var r=T()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return P()(this,l)}}var mt=function(h){k()(l,h);var x=je(l);function l(){var t;J()(this,l);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return t=x.call.apply(x,[this].concat(n)),S()(E()(t),"FORMAT","ean_8"),t}return B()(l,[{key:"_decodePayload",value:function(t,r,n){for(var c=t,p=0;p<4;p++){if(!(c=this._decodeCode(c.end,10)))return null;r.push(c.code),n.push(c)}if((c=this._findPattern(ht,c.end,!0,!1))===null)return null;n.push(c);for(var v=0;v<4;v++){if(!(c=this._decodeCode(c.end,10)))return null;n.push(c),r.push(c.code)}return c}}]),l}(Pe);function Ht(h){var x=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,t=T()(h);if(x){var r=T()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return P()(this,l)}}var xt=function(h){k()(l,h);var x=Ht(l);function l(t){var r;return J()(this,l),r=x.call(this,y()({normalizeBarSpaceWidth:!1},t)),S()(E()(r),"barSpaceRatio",[1,1]),S()(E()(r),"SINGLE_CODE_ERROR",.78),S()(E()(r),"AVG_CODE_ERROR",.38),S()(E()(r),"START_PATTERN",[1,1,1,1]),S()(E()(r),"STOP_PATTERN",[1,1,3]),S()(E()(r),"CODE_PATTERN",[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]]),S()(E()(r),"MAX_CORRECTION_FACTOR",5),S()(E()(r),"FORMAT","i2of5"),t.normalizeBarSpaceWidth&&(r.SINGLE_CODE_ERROR=.38,r.AVG_CODE_ERROR=.09),r.config=t,P()(r,E()(r))}return B()(l,[{key:"_matchPattern",value:function(t,r){if(this.config.normalizeBarSpaceWidth){for(var n=[0,0],c=[0,0],p=[0,0],v=this.MAX_CORRECTION_FACTOR,g=1/v,_=0;_<t.length;_++)n[_%2]+=t[_],c[_%2]+=r[_];p[0]=c[0]/n[0],p[1]=c[1]/n[1],p[0]=Math.max(Math.min(p[0],v),g),p[1]=Math.max(Math.min(p[1],v),g),this.barSpaceRatio=p;for(var C=0;C<t.length;C++)t[C]*=this.barSpaceRatio[C%2]}return Oe()(T()(l.prototype),"_matchPattern",this).call(this,t,r)}},{key:"_findPattern",value:function(t,r){var n=arguments.length>2&&arguments[2]!==void 0&&arguments[2],c=arguments.length>3&&arguments[3]!==void 0&&arguments[3],p=new Array(t.length).fill(0),v=0,g={error:Number.MAX_VALUE,start:0,end:0},_=this.AVG_CODE_ERROR;n=n||!1,c=c||!1,r||(r=this._nextSet(this._row));for(var C=r;C<this._row.length;C++)if(this._row[C]^(n?1:0))p[v]++;else{if(v===p.length-1){var H=p.reduce(function(ue,de){return ue+de},0),N=this._matchPattern(p,t);if(N<_)return g.error=N,g.start=C-H,g.end=C,g;if(!c)return null;for(var Q=0;Q<p.length-2;Q++)p[Q]=p[Q+2];p[p.length-2]=0,p[p.length-1]=0,v--}else v++;p[v]=1,n=!n}return null}},{key:"_findStart",value:function(){for(var t=0,r=this._nextSet(this._row),n=null,c=1;!n;){if(!(n=this._findPattern(this.START_PATTERN,r,!1,!0)))return null;if(c=Math.floor((n.end-n.start)/4),(t=n.start-10*c)>=0&&this._matchRange(t,n.start,0))return n;r=n.end,n=null}return null}},{key:"_verifyTrailingWhitespace",value:function(t){var r=t.end+(t.end-t.start)/2;return r<this._row.length&&this._matchRange(t.end,r,0)?t:null}},{key:"_findEnd",value:function(){this._row.reverse();var t=this._findPattern(this.STOP_PATTERN);if(this._row.reverse(),t===null)return null;var r=t.start;return t.start=this._row.length-t.end,t.end=this._row.length-r,t!==null?this._verifyTrailingWhitespace(t):null}},{key:"_decodePair",value:function(t){for(var r=[],n=0;n<t.length;n++){var c=this._decodeCode(t[n]);if(!c)return null;r.push(c)}return r}},{key:"_decodeCode",value:function(t){for(var r=this.AVG_CODE_ERROR,n={error:Number.MAX_VALUE,code:-1,start:0,end:0},c=0;c<this.CODE_PATTERN.length;c++){var p=this._matchPattern(t,this.CODE_PATTERN[c]);p<n.error&&(n.code=c,n.error=p)}return n.error<r?n:null}},{key:"_decodePayload",value:function(t,r,n){for(var c=0,p=t.length,v=[[0,0,0,0,0],[0,0,0,0,0]],g=null;c<p;){for(var _=0;_<5;_++)v[0][_]=t[c]*this.barSpaceRatio[0],v[1][_]=t[c+1]*this.barSpaceRatio[1],c+=2;if(!(g=this._decodePair(v)))return null;for(var C=0;C<g.length;C++)r.push(g[C].code+""),n.push(g[C])}return g}},{key:"_verifyCounterLength",value:function(t){return t.length%10==0}},{key:"decode",value:function(t,r){var n=new Array,c=new Array,p=this._findStart();if(!p)return null;c.push(p);var v=this._findEnd();if(!v)return null;var g=this._fillCounters(p.end,v.start,!1);return this._verifyCounterLength(g)&&this._decodePayload(g,n,c)?n.length%2!=0||n.length<6?null:(c.push(v),{code:n.join(""),start:p.start,end:v.end,startInfo:p,decodedCodes:c,format:this.FORMAT}):null}}]),l}(Z);function _t(h,x){var l=Object.keys(h);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(h);x&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(h,r).enumerable})),l.push.apply(l,t)}return l}function $t(h){var x=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,t=T()(h);if(x){var r=T()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return P()(this,l)}}var bt=function(h){k()(l,h);var x=$t(l);function l(){var t;J()(this,l);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return t=x.call.apply(x,[this].concat(n)),S()(E()(t),"CODE_FREQUENCY",[[56,52,50,49,44,38,35,42,41,37],[7,11,13,14,19,25,28,21,22,26]]),S()(E()(t),"STOP_PATTERN",[1/6*7,1/6*7,1/6*7,1/6*7,1/6*7,1/6*7]),S()(E()(t),"FORMAT","upc_e"),t}return B()(l,[{key:"_decodePayload",value:function(t,r,n){for(var c=function(g){for(var _=1;_<arguments.length;_++){var C=arguments[_]!=null?arguments[_]:{};_%2?_t(Object(C),!0).forEach(function(H){S()(g,H,C[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(C)):_t(Object(C)).forEach(function(H){Object.defineProperty(g,H,Object.getOwnPropertyDescriptor(C,H))})}return g}({},t),p=0,v=0;v<6;v++){if(!(c=this._decodeCode(c.end)))return null;c.code>=10&&(c.code=c.code-10,p|=1<<5-v),r.push(c.code),n.push(c)}return this._determineParity(p,r)?c:null}},{key:"_determineParity",value:function(t,r){for(var n=0;n<this.CODE_FREQUENCY.length;n++)for(var c=0;c<this.CODE_FREQUENCY[n].length;c++)if(t===this.CODE_FREQUENCY[n][c])return r.unshift(n),r.push(c),!0;return!1}},{key:"_convertToUPCA",value:function(t){var r=[t[0]],n=t[t.length-2];return(r=n<=2?r.concat(t.slice(1,3)).concat([n,0,0,0,0]).concat(t.slice(3,6)):n===3?r.concat(t.slice(1,4)).concat([0,0,0,0,0]).concat(t.slice(4,6)):n===4?r.concat(t.slice(1,5)).concat([0,0,0,0,0,t[5]]):r.concat(t.slice(1,6)).concat([0,0,0,0,n])).push(t[t.length-1]),r}},{key:"_checksum",value:function(t){return Oe()(T()(l.prototype),"_checksum",this).call(this,this._convertToUPCA(t))}},{key:"_findEnd",value:function(t,r){return Oe()(T()(l.prototype),"_findEnd",this).call(this,t,!0)}},{key:"_verifyTrailingWhitespace",value:function(t){var r=t.end+(t.end-t.start)/2;return r<this._row.length&&this._matchRange(t.end,r,0)?t:null}}]),l}(Pe);function Qt(h){var x=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,t=T()(h);if(x){var r=T()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return P()(this,l)}}var wt=function(h){k()(l,h);var x=Qt(l);function l(){var t;J()(this,l);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return t=x.call.apply(x,[this].concat(n)),S()(E()(t),"FORMAT","upc_a"),t}return B()(l,[{key:"decode",value:function(t,r){var n=Pe.prototype.decode.call(this);return n&&n.code&&n.code.length===13&&n.code.charAt(0)==="0"?(n.code=n.code.substring(1),n):null}}]),l}(Pe),Le={},Ve={UP:1,DOWN:-1};Le.getBarcodeLine=function(h,x,l){var t,r,n,c,p,v=0|x.x,g=0|x.y,_=0|l.x,C=0|l.y,H=Math.abs(C-g)>Math.abs(_-v),N=[],Q=h.data,ue=h.size.x,de=255,ve=0;function le(Be,Cr){p=Q[Cr*ue+Be],de=p<de?p:de,ve=p>ve?p:ve,N.push(p)}H&&(n=v,v=g,g=n,n=_,_=C,C=n),v>_&&(n=v,v=_,_=n,n=g,g=C,C=n);var xe=_-v,we=Math.abs(C-g);t=xe/2|0,r=g;var Ee=g<C?1:-1;for(c=v;c<_;c++)H?le(r,c):le(c,r),(t-=we)<0&&(r+=Ee,t+=xe);return{line:N,min:de,max:ve}},Le.toBinaryLine=function(h){var x,l,t,r,n,c,p=h.min,v=h.max,g=h.line,_=p+(v-p)/2,C=[],H=(v-p)/12,N=-H;for(t=g[0]>_?Ve.UP:Ve.DOWN,C.push({pos:0,val:g[0]}),n=0;n<g.length-2;n++)t!==(r=(x=g[n+1]-g[n])+(l=g[n+2]-g[n+1])<N&&g[n+1]<1.5*_?Ve.DOWN:x+l>H&&g[n+1]>.5*_?Ve.UP:t)&&(C.push({pos:n,val:g[n]}),t=r);for(C.push({pos:g.length,val:g[g.length-1]}),c=C[0].pos;c<C[1].pos;c++)g[c]=g[c]>_?0:1;for(n=1;n<C.length-1;n++)for(H=C[n+1].val>C[n].val?C[n].val+(C[n+1].val-C[n].val)/3*2|0:C[n+1].val+(C[n].val-C[n+1].val)/3|0,c=C[n].pos;c<C[n+1].pos;c++)g[c]=g[c]>H?0:1;return{line:g,threshold:H}},Le.debug={printFrequency:function(h,x){var l,t=x.getContext("2d");for(x.width=h.length,x.height=256,t.beginPath(),t.strokeStyle="blue",l=0;l<h.length;l++)t.moveTo(l,255),t.lineTo(l,255-h[l]);t.stroke(),t.closePath()},printPattern:function(h,x){var l,t=x.getContext("2d");for(x.width=h.length,t.fillColor="black",l=0;l<h.length;l++)h[l]===1&&t.fillRect(l,0,1,100)}};var Ze=Le;function Yt(h,x){var l=typeof Symbol!="undefined"&&h[Symbol.iterator]||h["@@iterator"];if(!l){if(Array.isArray(h)||(l=function(v,g){if(!!v){if(typeof v=="string")return Ot(v,g);var _=Object.prototype.toString.call(v).slice(8,-1);if(_==="Object"&&v.constructor&&(_=v.constructor.name),_==="Map"||_==="Set")return Array.from(v);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return Ot(v,g)}}(h))||x&&h&&typeof h.length=="number"){l&&(h=l);var t=0,r=function(){};return{s:r,n:function(){return t>=h.length?{done:!0}:{done:!1,value:h[t++]}},e:function(v){throw v},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n,c=!0,p=!1;return{s:function(){l=l.call(h)},n:function(){var v=l.next();return c=v.done,v},e:function(v){p=!0,n=v},f:function(){try{c||l.return==null||l.return()}finally{if(p)throw n}}}}function Ot(h,x){(x==null||x>h.length)&&(x=h.length);for(var l=0,t=new Array(x);l<x;l++)t[l]=h[l];return t}var Ue={code_128_reader:ye,ean_reader:Pe,ean_5_reader:yt,ean_2_reader:gt,ean_8_reader:mt,code_39_reader:qe,code_39_vin_reader:Qe,codabar_reader:he,upc_reader:wt,upc_e_reader:bt,i2of5_reader:xt,"2of5_reader":z,code_93_reader:lt,code_32_reader:it},Je={registerReader:function(h,x){Ue[h]=x},create:function(h,x){var l=[];function t(){h.readers.forEach(function(v){var g,_={},C=[];s()(v)==="object"?(g=v.format,_=v.config):typeof v=="string"&&(g=v),_.supplements&&(C=_.supplements.map(function(N){return new Ue[N]}));try{var H=new Ue[g](_,C);l.push(H)}catch(N){throw console.error("* Error constructing reader ",g,N),N}})}function r(v){var g,_=null,C=Ze.getBarcodeLine(x,v[0],v[1]);for(Ze.toBinaryLine(C),g=0;g<l.length&&_===null;g++)_=l[g].decodePattern(C.line);return _===null?null:{codeResult:_,barcodeLine:C}}function n(v){return c.apply(this,arguments)}function c(){return(c=M()(D.a.mark(function v(g){var _,C,H,N;return D.a.wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:_=null,C=Yt(l),Q.prev=2,C.s();case 4:if((H=C.n()).done){Q.next=14;break}if(!(N=H.value).decodeImage){Q.next=12;break}return Q.next=9,N.decodeImage(g);case 9:if(!(_=Q.sent)){Q.next=12;break}return Q.abrupt("break",14);case 12:Q.next=4;break;case 14:Q.next=19;break;case 16:Q.prev=16,Q.t0=Q.catch(2),C.e(Q.t0);case 19:return Q.prev=19,C.f(),Q.finish(19);case 22:return Q.abrupt("return",_);case 23:case"end":return Q.stop()}},v,null,[[2,16,19,22]])}))).apply(this,arguments)}function p(v){var g,_,C=function(N){return Math.sqrt(Math.pow(Math.abs(N[1].y-N[0].y),2)+Math.pow(Math.abs(N[1].x-N[0].x),2))}(g=function(N){return[{x:(N[1][0]-N[0][0])/2+N[0][0],y:(N[1][1]-N[0][1])/2+N[0][1]},{x:(N[3][0]-N[2][0])/2+N[2][0],y:(N[3][1]-N[2][1])/2+N[2][1]}]}(v)),H=Math.atan2(g[1].y-g[0].y,g[1].x-g[0].x);return(g=function(N,Q,ue){function de(ve){var le=ve*Math.sin(Q),xe=ve*Math.cos(Q);N[0].y-=le,N[0].x-=xe,N[1].y+=le,N[1].x+=xe}for(de(ue);ue>1&&(!x.inImageWithBorder(N[0])||!x.inImageWithBorder(N[1]));)de(-(ue-=Math.ceil(ue/2)));return N}(g,H,Math.floor(.1*C)))===null?null:((_=r(g))===null&&(_=function(N,Q,ue){var de,ve,le,xe=Math.sqrt(Math.pow(N[1][0]-N[0][0],2)+Math.pow(N[1][1]-N[0][1],2)),we=null,Ee=Math.sin(ue),Be=Math.cos(ue);for(de=1;de<16&&we===null;de++)le={y:(ve=xe/16*de*(de%2==0?-1:1))*Ee,x:ve*Be},Q[0].y+=le.x,Q[0].x-=le.y,Q[1].y+=le.x,Q[1].x-=le.y,we=r(Q);return we}(v,g,H)),_===null?null:{codeResult:_.codeResult,line:g,angle:H,pattern:_.barcodeLine.line,threshold:_.barcodeLine.threshold})}return t(),{decodeFromBoundingBox:function(v){return p(v)},decodeFromBoundingBoxes:function(v){var g,_,C=[],H=h.multiple;for(g=0;g<v.length;g++){var N=v[g];if((_=p(N)||{}).box=N,H)C.push(_);else if(_.codeResult)return _}return{barcodes:C}},decodeFromImage:function(v){return M()(D.a.mark(function g(){var _;return D.a.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,n(v);case 2:return _=C.sent,C.abrupt("return",_);case 4:case"end":return C.stop()}},g)}))()},registerReader:function(v,g){if(Ue[v])throw new Error("cannot register existing reader",v);Ue[v]=g},setReaders:function(v){h.readers=v,l.length=0,t()}}}},Te=function(){var h={};function x(r){return h[r]||(h[r]={subscribers:[]}),h[r]}function l(r,n){r.async?setTimeout(function(){r.callback(n)},4):r.callback(n)}function t(r,n,c){var p;if(typeof n=="function")p={callback:n,async:c};else if(!(p=n).callback)throw new Error("Callback was not specified on options");x(r).subscribers.push(p)}return{subscribe:function(r,n,c){return t(r,n,c)},publish:function(r,n){var c=x(r),p=c.subscribers;p.filter(function(v){return!!v.once}).forEach(function(v){l(v,n)}),c.subscribers=p.filter(function(v){return!v.once}),c.subscribers.forEach(function(v){l(v,n)})},once:function(r,n){var c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];t(r,{callback:n,async:c,once:!0})},unsubscribe:function(r,n){if(r){var c=x(r);c.subscribers=c&&n?c.subscribers.filter(function(p){return p.callback!==n}):[]}else h={}}}}(),Rt=e(63),Ct=e.n(Rt),Kt=e(64);function Zt(h){var x=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,t=T()(h);if(x){var r=T()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return P()(this,l)}}var ze,et=function(h){k()(l,h);var x=Zt(l);function l(t,r){var n;return J()(this,l),n=x.call(this,t),S()(E()(n),"code",void 0),n.code=r,Object.setPrototypeOf(E()(n),l.prototype),n}return B()(l)}(e.n(Kt)()(Error)),Mt="This may mean that the user has declined camera access, or the browser does not support media APIs. If you are running in iOS, you must use Safari.";function Jt(){try{return navigator.mediaDevices.enumerateDevices()}catch{var h=new et("enumerateDevices is not defined. ".concat(Mt),-1);return Promise.reject(h)}}function er(h){try{return navigator.mediaDevices.getUserMedia(h)}catch{var x=new et("getUserMedia is not defined. ".concat(Mt),-1);return Promise.reject(x)}}function St(h){return new Promise(function(x,l){var t=10;(function r(){t>0?h.videoWidth>10&&h.videoHeight>10?x():window.setTimeout(r,500):l(new et("Unable to play video stream. Is webcam working?",-1)),t--})()})}function Et(h,x){return tt.apply(this,arguments)}function tt(){return(tt=M()(D.a.mark(function h(x,l){var t;return D.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,er(l);case 2:if(t=r.sent,ze=t,!x){r.next=11;break}return x.setAttribute("autoplay","true"),x.setAttribute("muted","true"),x.setAttribute("playsinline","true"),x.srcObject=t,x.addEventListener("loadedmetadata",function(){x.play().catch(function(n){console.warn("* Error while trying to play video stream:",n)})}),r.abrupt("return",St(x));case 11:return r.abrupt("return",Promise.resolve());case 12:case"end":return r.stop()}},h)}))).apply(this,arguments)}function tr(h){var x=Ct()(h,["width","height","facingMode","aspectRatio","deviceId"]);return h.minAspectRatio!==void 0&&h.minAspectRatio>0&&(x.aspectRatio=h.minAspectRatio,console.log("WARNING: Constraint 'minAspectRatio' is deprecated; Use 'aspectRatio' instead")),h.facing!==void 0&&(x.facingMode=h.facing,console.log("WARNING: Constraint 'facing' is deprecated. Use 'facingMode' instead'")),x}function rr(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=tr(h);return x&&x.deviceId&&x.facingMode&&delete x.facingMode,Promise.resolve({audio:!1,video:x})}function At(){return(At=M()(D.a.mark(function h(){var x;return D.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,Jt();case 2:return x=l.sent,l.abrupt("return",x.filter(function(t){return t.kind==="videoinput"}));case 4:case"end":return l.stop()}},h)}))).apply(this,arguments)}function Ne(){if(!ze)return null;var h=ze.getVideoTracks();return h&&h!=null&&h.length?h[0]:null}var Fe={requestedVideoElement:null,request:function(h,x){return M()(D.a.mark(function l(){var t;return D.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return Fe.requestedVideoElement=h,r.next=3,rr(x);case 3:return t=r.sent,r.abrupt("return",Et(h,t));case 5:case"end":return r.stop()}},l)}))()},release:function(){var h=ze&&ze.getVideoTracks();return Fe.requestedVideoElement!==null&&Fe.requestedVideoElement.pause(),new Promise(function(x){setTimeout(function(){h&&h.length&&h.forEach(function(l){return l.stop()}),ze=null,Fe.requestedVideoElement=null,x()},0)})},enumerateVideoDevices:function(){return At.apply(this,arguments)},getActiveStreamLabel:function(){var h=Ne();return h?h.label:""},getActiveTrack:Ne,disableTorch:function(){return M()(D.a.mark(function h(){var x;return D.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!(x=Ne())){l.next=11;break}return l.prev=2,l.next=5,x.applyConstraints({advanced:[{torch:!1}]});case 5:l.next=11;break;case 7:throw l.prev=7,l.t0=l.catch(2),l.t0 instanceof OverconstrainedError&&console.warn("quagga2/CameraAccess: Torch not supported on this device"),l.t0;case 11:case"end":return l.stop()}},h,null,[[2,7]])}))()},enableTorch:function(){return M()(D.a.mark(function h(){var x;return D.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!(x=Ne())){l.next=11;break}return l.prev=2,l.next=5,x.applyConstraints({advanced:[{torch:!0}]});case 5:l.next=11;break;case 7:throw l.prev=7,l.t0=l.catch(2),l.t0 instanceof OverconstrainedError&&console.warn("quagga2/CameraAccess: Torch not supported on this device"),l.t0;case 11:case"end":return l.stop()}},h,null,[[2,7]])}))()}},Ge=Fe,kt={create:function(h){var x,l=document.createElement("canvas"),t=l.getContext("2d",{willReadFrequently:!!h.willReadFrequently}),r=[],n=(x=h.capacity)!==null&&x!==void 0?x:20,c=h.capture===!0;function p(v){return!!n&&v&&!function(g,_){return _&&_.some(function(C){return Object.keys(C).every(function(H){return C[H]===g[H]})})}(v,h.blacklist)&&function(g,_){return typeof _!="function"||_(g)}(v,h.filter)}return{addResult:function(v,g,_){var C={};p(_)&&(n--,C.codeResult=_,c&&(l.width=g.x,l.height=g.y,G.a.drawImage(v,g,t),C.frame=l.toDataURL()),r.push(C))},getResults:function(){return r}}}},nr={inputStream:{name:"Live",type:"LiveStream",constraints:{width:640,height:480,facingMode:"environment"},area:{top:"0%",right:"0%",left:"0%",bottom:"0%"},singleChannel:!1},locate:!0,numOfWorkers:4,decoder:{readers:["code_128_reader"]},locator:{halfSample:!0,patchSize:"medium"}},Se=e(5),Xe=e(10),Pt=Math.PI/180,or={create:function(h,x){var l,t={},r=h.getConfig(),n=(Object(Xe.h)(h.getRealWidth(),h.getRealHeight()),h.getCanvasSize()),c=Object(Xe.h)(h.getWidth(),h.getHeight()),p=h.getTopRight(),v=p.x,g=p.y,_=null,C=null,H=r.willReadFrequently;return(l=x||document.createElement("canvas")).width=n.x,l.height=n.y,console.warn("*** frame_grabber_browser: willReadFrequently=",H,"canvas=",l),_=l.getContext("2d",{willReadFrequently:!!H}),C=new Uint8Array(c.x*c.y),t.attachData=function(N){C=N},t.getData=function(){return C},t.grab=function(){var N,Q=r.halfSample,ue=h.getFrame(),de=ue,ve=0;if(de){if(function(le,xe){le.width!==xe.x&&(le.width=xe.x),le.height!==xe.y&&(le.height=xe.y)}(l,n),r.type==="ImageStream"&&(de=ue.img,ue.tags&&ue.tags.orientation))switch(ue.tags.orientation){case 6:ve=90*Pt;break;case 8:ve=-90*Pt}return ve!==0?(_.translate(n.x/2,n.y/2),_.rotate(ve),_.drawImage(de,-n.y/2,-n.x/2,n.y,n.x),_.rotate(-ve),_.translate(-n.x/2,-n.y/2)):_.drawImage(de,0,0,n.x,n.y),N=_.getImageData(v,g,c.x,c.y).data,Q?Object(Xe.e)(N,c,C):Object(Xe.c)(N,C,r),!0}return!1},t.getSize=function(){return c},t}},ar=or,He={274:"orientation"},Tt=Object.keys(He).map(function(h){return He[h]});function ir(h){return new Promise(function(x){var l=new FileReader;l.onload=function(t){return x(t.target.result)},l.readAsArrayBuffer(h)})}function ur(h){return new Promise(function(x,l){var t=new XMLHttpRequest;t.open("GET",h,!0),t.responseType="blob",t.onreadystatechange=function(){t.readyState!==XMLHttpRequest.DONE||t.status!==200&&t.status!==0||x(this.response)},t.onerror=l,t.send()})}function cr(h){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Tt,l=new DataView(h),t=h.byteLength,r=x.reduce(function(c,p){var v=Object.keys(He).filter(function(g){return He[g]===p})[0];return v&&(c[v]=p),c},{}),n=2;if(l.getUint8(0)!==255||l.getUint8(1)!==216)return!1;for(;n<t;){if(l.getUint8(n)!==255)return!1;if(l.getUint8(n+1)===225)return sr(l,n+4,r);n+=2+l.getUint16(n+2)}return!1}function sr(h,x,l){if(function(c,p,v){for(var g="",_=p;_<p+v;_++)g+=String.fromCharCode(c.getUint8(_));return g}(h,x,4)!=="Exif")return!1;var t,r=x+6;if(h.getUint16(r)===18761)t=!1;else{if(h.getUint16(r)!==19789)return!1;t=!0}if(h.getUint16(r+2,!t)!==42)return!1;var n=h.getUint32(r+4,!t);return!(n<8)&&function(c,p,v,g,_){for(var C=c.getUint16(v,!_),H={},N=0;N<C;N++){var Q=v+12*N+2,ue=g[c.getUint16(Q,!_)];ue&&(H[ue]=fr(c,Q,p,v,_))}return H}(h,r,r+n,l,t)}function fr(h,x,l,t,r){var n=h.getUint16(x+2,!r),c=h.getUint32(x+4,!r);switch(n){case 3:if(c===1)return h.getUint16(x+8,!r)}return null}var Dt={};function lr(h,x){h.onload=function(){x.loaded(this)}}Dt.load=function(h,x,l,t,r){var n,c,p,v=new Array(t),g=new Array(v.length);if(r===!1)v[0]=h;else for(n=0;n<v.length;n++)p=l+n,v[n]="".concat(h,"image-").concat("00".concat(p).slice(-3),".jpg");for(g.notLoaded=[],g.addImage=function(_){g.notLoaded.push(_)},g.loaded=function(_){for(var C=g.notLoaded,H=0;H<C.length;H++)if(C[H]===_){C.splice(H,1);for(var N=0;N<v.length;N++){var Q=v[N].substr(v[N].lastIndexOf("/"));if(_.src.lastIndexOf(Q)!==-1){g[N]={img:_};break}}break}C.length===0&&(r===!1?function(ue){var de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Tt;return/^blob:/i.test(ue)?ur(ue).then(ir).then(function(ve){return cr(ve,de)}):Promise.resolve(null)}(h,["orientation"]).then(function(ue){g[0].tags=ue,x(g)}).catch(function(ue){console.log(ue),x(g)}):x(g))},n=0;n<v.length;n++)c=new Image,g.addImage(c),lr(c,g),c.src=v[n]};var dr=Dt,jt={createVideoStream:function(h){console.warn("**** InputStreamBrowser createVideoStream");var x,l,t=null,r=["canrecord","ended"],n={},c={x:0,y:0,type:"Point"},p={x:0,y:0,type:"XYSize"},v={getRealWidth:function(){return h.videoWidth},getRealHeight:function(){return h.videoHeight},getWidth:function(){return x},getHeight:function(){return l},setWidth:function(g){x=g},setHeight:function(g){l=g},setInputStream:function(g){t=g,this.setAttribute("src",g.src!==void 0?g.src:"")},ended:function(){return h.ended},getConfig:function(){return t},setAttribute:function(g,_){h&&h.setAttribute(g,_)},pause:function(){h.pause()},play:function(){h.play()},setCurrentTime:function(g){var _;((_=t)===null||_===void 0?void 0:_.type)!=="LiveStream"&&this.setAttribute("currentTime",g.toString())},addEventListener:function(g,_,C){r.indexOf(g)!==-1?(n[g]||(n[g]=[]),n[g].push(_)):h.addEventListener(g,_,C)},clearEventHandlers:function(){r.forEach(function(g){var _=n[g];_&&_.length>0&&_.forEach(function(C){h.removeEventListener(g,C)})})},trigger:function(g,_){var C,H,N,Q,ue,de=n[g];if(g==="canrecord"&&(Q=h.videoWidth,ue=h.videoHeight,x=(H=t)!==null&&H!==void 0&&H.size?Q/ue>1?t.size:Math.floor(Q/ue*t.size):Q,l=(N=t)!==null&&N!==void 0&&N.size?Q/ue>1?Math.floor(ue/Q*t.size):t.size:ue,p.x=x,p.y=l),de&&de.length>0)for(C=0;C<de.length;C++)de[C].apply(v,_)},setTopRight:function(g){c.x=g.x,c.y=g.y},getTopRight:function(){return c},setCanvasSize:function(g){p.x=g.x,p.y=g.y},getCanvasSize:function(){return p},getFrame:function(){return h}};return v},createLiveStream:function(h){console.warn("**** InputStreamBrowser createLiveStream"),h&&h.setAttribute("autoplay","true");var x=jt.createVideoStream(h);return x.ended=function(){return!1},x},createImageStream:function(){var h,x,l=null,t=0,r=0,n=0,c=!0,p=!1,v=null,g=0,_=null,C=!1,H=["canrecord","ended"],N={},Q={x:0,y:0,type:"Point"},ue={x:0,y:0,type:"XYSize"};function de(le,xe){var we,Ee=N[le];if(Ee&&Ee.length>0)for(we=0;we<Ee.length;we++)Ee[we].apply(ve,xe)}var ve={trigger:de,getWidth:function(){return h},getHeight:function(){return x},setWidth:function(le){h=le},setHeight:function(le){x=le},getRealWidth:function(){return t},getRealHeight:function(){return r},setInputStream:function(le){var xe;l=le,le.sequence===!1?(_=le.src,g=1):(_=le.src,g=le.length),p=!1,dr.load(_,function(we){var Ee,Be;if(v=we,we[0].tags&&we[0].tags.orientation)switch(we[0].tags.orientation){case 6:case 8:t=we[0].img.height,r=we[0].img.width;break;default:t=we[0].img.width,r=we[0].img.height}else t=we[0].img.width,r=we[0].img.height;h=(Ee=l)!==null&&Ee!==void 0&&Ee.size?t/r>1?l.size:Math.floor(t/r*l.size):t,x=(Be=l)!==null&&Be!==void 0&&Be.size?t/r>1?Math.floor(r/t*l.size):l.size:r,ue.x=h,ue.y=x,p=!0,n=0,setTimeout(function(){de("canrecord",[])},0)},1,g,(xe=l)===null||xe===void 0?void 0:xe.sequence)},ended:function(){return C},setAttribute:function(){},getConfig:function(){return l},pause:function(){c=!0},play:function(){c=!1},setCurrentTime:function(le){n=le},addEventListener:function(le,xe){H.indexOf(le)!==-1&&(N[le]||(N[le]=[]),N[le].push(xe))},clearEventHandlers:function(){Object.keys(N).forEach(function(le){return delete N[le]})},setTopRight:function(le){Q.x=le.x,Q.y=le.y},getTopRight:function(){return Q},setCanvasSize:function(le){ue.x=le.x,ue.y=le.y},getCanvasSize:function(){return ue},getFrame:function(){var le,xe;return p?(c||(le=(xe=v)===null||xe===void 0?void 0:xe[n],n<g-1?n++:setTimeout(function(){C=!0,de("ended",[])},0)),le):null}};return ve}},hr=jt,rt=e(23),pr=B()(function h(){J()(this,h),S()(this,"config",void 0),S()(this,"inputStream",void 0),S()(this,"framegrabber",void 0),S()(this,"inputImageWrapper",void 0),S()(this,"stopped",!1),S()(this,"boxSize",void 0),S()(this,"resultCollector",void 0),S()(this,"decoder",void 0),S()(this,"workerPool",[]),S()(this,"onUIThread",!0),S()(this,"canvasContainer",new o)}),It=B()(function h(){J()(this,h),S()(this,"image",void 0),S()(this,"overlay",void 0)}),o=B()(function h(){J()(this,h),S()(this,"ctx",void 0),S()(this,"dom",void 0),this.ctx=new It,this.dom=new It});function d(h){if(typeof document=="undefined")return null;if(h instanceof HTMLElement&&h.nodeName&&h.nodeType===1)return h;var x=typeof h=="string"?h:"#interactive.viewport";return document.querySelector(x)}function m(h,x,l){var t=function(n,c){var p=document.querySelector(n);return p||((p=document.createElement("canvas")).className=c),p}(h,x);console.warn("* initCanvas getCanvasAndContext");var r=t.getContext("2d",{willReadFrequently:l.willReadFrequently});return{canvas:t,context:r}}function A(h){var x,l,t,r,n,c,p=d(h==null||(x=h.config)===null||x===void 0||(l=x.inputStream)===null||l===void 0?void 0:l.target),v=h==null||(t=h.config)===null||t===void 0||(r=t.inputStream)===null||r===void 0?void 0:r.type;if(!v)return null;var g=function(C,H){var N=H.willReadFrequently;if(typeof document!="undefined"){var Q=m("canvas.imgBuffer","imgBuffer",{willReadFrequently:N}),ue=m("canvas.drawingBuffer","drawingBuffer",{willReadFrequently:N});return Q.canvas.width=ue.canvas.width=C.x,Q.canvas.height=ue.canvas.height=C.y,{dom:{image:Q.canvas,overlay:ue.canvas},ctx:{image:Q.context,overlay:ue.context}}}return null}(h.inputStream.getCanvasSize(),{willReadFrequently:!(h==null||(n=h.config)===null||n===void 0||(c=n.inputStream)===null||c===void 0||!c.willReadFrequently)});if(!g)return{dom:{image:null,overlay:null},ctx:{image:null,overlay:null}};var _=g.dom;return typeof document!="undefined"&&p&&(v!=="ImageStream"||p.contains(_.image)||p.appendChild(_.image),p.contains(_.overlay)||p.appendChild(_.overlay)),g}function I(h,x){var l=Object.keys(h);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(h);x&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(h,r).enumerable})),l.push.apply(l,t)}return l}function q(h){for(var x=1;x<arguments.length;x++){var l=arguments[x]!=null?arguments[x]:{};x%2?I(Object(l),!0).forEach(function(t){S()(h,t,l[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(l)):I(Object(l)).forEach(function(t){Object.defineProperty(h,t,Object.getOwnPropertyDescriptor(l,t))})}return h}Se.a.setMatrixArrayType(Array);var re=[];function se(h){return q(q({},h),{},{inputStream:q(q({},h.inputStream),{},{target:null})})}function pe(h){if(h){var x=h().default;if(!x)return void self.postMessage({event:"error",message:"Quagga could not be created"})}var l;function t(n){self.postMessage({event:"processed",imageData:l.data,result:n},[l.data.buffer])}function r(){self.postMessage({event:"initialized",imageData:l.data},[l.data.buffer])}self.onmessage=function(n){if(n.data.cmd==="init"){var c=n.data.config;c.numOfWorkers=0,l=new x.ImageWrapper({x:n.data.size.x,y:n.data.size.y},new Uint8Array(n.data.imageData)),x.init(c,r,l),x.onProcessed(t)}else n.data.cmd==="process"?(l.data=new Uint8Array(n.data.imageData),x.start()):n.data.cmd==="setReaders"?x.setReaders(n.data.readers):n.data.cmd==="registerReader"&&x.registerReader(n.data.name,n.data.reader)}}function be(h,x,l){var t,r,n=(typeof __factorySource__!="undefined"&&(r=__factorySource__),t=new Blob(["("+pe.toString()+")("+r+");"],{type:"text/javascript"}),window.URL.createObjectURL(t)),c={worker:new Worker(n),imageData:new Uint8Array(x.getWidth()*x.getHeight()),busy:!0};c.worker.onmessage=function(p){p.data.event==="initialized"?(URL.revokeObjectURL(n),c.busy=!1,c.imageData=new Uint8Array(p.data.imageData),l(c)):p.data.event==="processed"?(c.imageData=new Uint8Array(p.data.imageData),c.busy=!1,typeof publishResult!="undefined"&&publishResult(p.data.result,c.imageData)):p.data.event},c.worker.postMessage({cmd:"init",size:{x:x.getWidth(),y:x.getHeight()},imageData:c.imageData,config:se(h)},[c.imageData.buffer])}function Re(h,x,l,t){var r=h-re.length;if(r===0&&t)t();else if(r<0)re.slice(r).forEach(function(p){p.worker.terminate()}),re=re.slice(0,r),t&&t();else{var n=function(p){re.push(p),re.length>=h&&t&&t()};if(x)for(var c=0;c<r;c++)be(x,l,n)}}function Ae(h,x,l){for(var t=h.length;t--;)h[t][0]+=x,h[t][1]+=l}Se.a.setMatrixArrayType(Array);var ke=function(){function h(){var t=this;J()(this,h),S()(this,"context",new pr),S()(this,"canRecord",function(r){var n;t.context.config&&(rt.a.checkImageConstraints(t.context.inputStream,(n=t.context.config)===null||n===void 0?void 0:n.locator),t.initCanvas(),t.context.framegrabber=ar.create(t.context.inputStream,t.context.canvasContainer.dom.image),t.context.config.numOfWorkers===void 0&&(t.context.config.numOfWorkers=0),Re(t.context.config.numOfWorkers,t.context.config,t.context.inputStream,function(){var c;((c=t.context.config)===null||c===void 0?void 0:c.numOfWorkers)===0&&t.initializeData(),t.ready(r)}))}),S()(this,"update",function(){if(t.context.onUIThread){var r,n=(p=t.context.framegrabber,re.length?!!(v=re.filter(function(g){return!g.busy})[0])&&(p.attachData(v.imageData),p.grab()&&(v.busy=!0,v.worker.postMessage({cmd:"process",imageData:v.imageData},[v.imageData.buffer])),!0):null);n||(t.context.framegrabber.attachData((r=t.context.inputImageWrapper)===null||r===void 0?void 0:r.data),t.context.framegrabber.grab()&&(n||t.locateAndDecode()))}else{var c;t.context.framegrabber.attachData((c=t.context.inputImageWrapper)===null||c===void 0?void 0:c.data),t.context.framegrabber.grab(),t.locateAndDecode()}var p,v})}var x,l;return B()(h,[{key:"initBuffers",value:function(t){if(this.context.config){var r=function(p,v,g){var _=v||new b.a({x:p.getWidth(),y:p.getHeight(),type:"XYSize"}),C=[Se.c.clone([0,0]),Se.c.clone([0,_.size.y]),Se.c.clone([_.size.x,_.size.y]),Se.c.clone([_.size.x,0])];return rt.a.init(_,g),{inputImageWrapper:_,boxSize:C}}(this.context.inputStream,t,this.context.config.locator),n=r.inputImageWrapper,c=r.boxSize;this.context.inputImageWrapper=n,this.context.boxSize=c}}},{key:"initializeData",value:function(t){this.context.config&&(this.initBuffers(t),this.context.decoder=Je.create(this.context.config.decoder,this.context.inputImageWrapper))}},{key:"getViewPort",value:function(){return this.context.config&&this.context.config.inputStream?d(this.context.config.inputStream.target):null}},{key:"ready",value:function(t){this.context.inputStream.play(),t()}},{key:"initCanvas",value:function(){var t=A(this.context);if(t){var r=t.ctx,n=t.dom;this.context.canvasContainer.dom.image=n.image,this.context.canvasContainer.dom.overlay=n.overlay,this.context.canvasContainer.ctx.image=r.image,this.context.canvasContainer.ctx.overlay=r.overlay}}},{key:"initInputStream",value:function(t){if(this.context.config&&this.context.config.inputStream){var r=this.context.config.inputStream,n=r.type,c=r.constraints,p=function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"LiveStream",C=arguments.length>1?arguments[1]:void 0,H=arguments.length>2?arguments[2]:void 0;switch(_){case"VideoStream":var N=document.createElement("video");return{video:N,inputStream:H.createVideoStream(N)};case"ImageStream":return{inputStream:H.createImageStream()};case"LiveStream":var Q=null;return C&&((Q=C.querySelector("video"))||(Q=document.createElement("video"),C.appendChild(Q))),{video:Q,inputStream:H.createLiveStream(Q)};default:return console.error("* setupInputStream invalid type ".concat(_)),{video:null,inputStream:null}}}(n,this.getViewPort(),hr),v=p.video,g=p.inputStream;n==="LiveStream"&&v&&Ge.request(v,c).then(function(){return g.trigger("canrecord")}).catch(function(_){return t(_)}),g&&(g.setAttribute("preload","auto"),g.setInputStream(this.context.config.inputStream),g.addEventListener("canrecord",this.canRecord.bind(void 0,t))),this.context.inputStream=g}}},{key:"getBoundingBoxes",value:function(){var t;return(t=this.context.config)!==null&&t!==void 0&&t.locate?rt.a.locate():[[Se.c.clone(this.context.boxSize[0]),Se.c.clone(this.context.boxSize[1]),Se.c.clone(this.context.boxSize[2]),Se.c.clone(this.context.boxSize[3])]]}},{key:"transformResult",value:function(t){var r=this,n=this.context.inputStream.getTopRight(),c=n.x,p=n.y;if((c!==0||p!==0)&&(t.barcodes&&t.barcodes.forEach(function(g){return r.transformResult(g)}),t.line&&t.line.length===2&&function(g,_,C){g[0].x+=_,g[0].y+=C,g[1].x+=_,g[1].y+=C}(t.line,c,p),t.box&&Ae(t.box,c,p),t.boxes&&t.boxes.length>0))for(var v=0;v<t.boxes.length;v++)Ae(t.boxes[v],c,p)}},{key:"addResult",value:function(t,r){var n=this;r&&this.context.resultCollector&&(t.barcodes?t.barcodes.filter(function(c){return c.codeResult}).forEach(function(c){return n.addResult(c,r)}):t.codeResult&&this.context.resultCollector.addResult(r,this.context.inputStream.getCanvasSize(),t.codeResult))}},{key:"hasCodeResult",value:function(t){return!(!t||!(t.barcodes?t.barcodes.some(function(r){return r.codeResult}):t.codeResult))}},{key:"publishResult",value:function(){var t,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,c=r;r&&this.context.onUIThread&&(this.transformResult(r),this.addResult(r,n),c=(r==null||(t=r.barcodes)===null||t===void 0?void 0:t.length)>0?r.barcodes:r),Te.publish("processed",c),this.hasCodeResult(r)&&Te.publish("detected",c)}},{key:"locateAndDecode",value:(l=M()(D.a.mark(function t(){var r,n,c,p,v;return D.a.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(!(r=this.getBoundingBoxes())){g.next=12;break}return g.next=4,this.context.decoder.decodeFromBoundingBoxes(r);case 4:if(g.t0=g.sent,g.t0){g.next=7;break}g.t0={};case 7:(c=g.t0).boxes=r,this.publishResult(c,(n=this.context.inputImageWrapper)===null||n===void 0?void 0:n.data),g.next=16;break;case 12:return g.next=14,this.context.decoder.decodeFromImage(this.context.inputImageWrapper);case 14:(p=g.sent)?this.publishResult(p,(v=this.context.inputImageWrapper)===null||v===void 0?void 0:v.data):this.publishResult();case 16:case"end":return g.stop()}},t,this)})),function(){return l.apply(this,arguments)})},{key:"startContinuousUpdate",value:function(){var t,r=this,n=null,c=1e3/(((t=this.context.config)===null||t===void 0?void 0:t.frequency)||60);this.context.stopped=!1;var p=this.context;(function v(g){n=n||g,p.stopped||(g>=n&&(n+=c,r.update()),window.requestAnimationFrame(v))})(performance.now())}},{key:"start",value:function(){var t,r;this.context.onUIThread&&((t=this.context.config)===null||t===void 0||(r=t.inputStream)===null||r===void 0?void 0:r.type)==="LiveStream"?this.startContinuousUpdate():this.update()}},{key:"stop",value:(x=M()(D.a.mark(function t(){var r;return D.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.context.stopped=!0,Re(0),(r=this.context.config)===null||r===void 0||!r.inputStream||this.context.config.inputStream.type!=="LiveStream"){n.next=6;break}return n.next=5,Ge.release();case 5:this.context.inputStream.clearEventHandlers();case 6:case"end":return n.stop()}},t,this)})),function(){return x.apply(this,arguments)})},{key:"setReaders",value:function(t){this.context.decoder&&this.context.decoder.setReaders(t),function(r){re.forEach(function(n){return n.worker.postMessage({cmd:"setReaders",readers:r})})}(t)}},{key:"registerReader",value:function(t,r){Je.registerReader(t,r),this.context.decoder&&this.context.decoder.registerReader(t,r),function(n,c){re.forEach(function(p){return p.worker.postMessage({cmd:"registerReader",name:n,reader:c})})}(t,r)}}]),h}(),Ie=new ke,$e=Ie.context,nt={init:function(h,x,l){var t,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Ie;return x||(t=new Promise(function(n,c){x=function(p){p?c(p):n()}})),r.context.config=y()({},nr,h),r.context.config.numOfWorkers>0&&(r.context.config.numOfWorkers=0),l?(r.context.onUIThread=!1,r.initializeData(l),x&&x()):r.initInputStream(x),t},start:function(){return Ie.start()},stop:function(){return Ie.stop()},pause:function(){$e.stopped=!0},onDetected:function(h){h&&(typeof h=="function"||s()(h)==="object"&&h.callback)?Te.subscribe("detected",h):console.trace("* warning: Quagga.onDetected called with invalid callback, ignoring")},offDetected:function(h){Te.unsubscribe("detected",h)},onProcessed:function(h){h&&(typeof h=="function"||s()(h)==="object"&&h.callback)?Te.subscribe("processed",h):console.trace("* warning: Quagga.onProcessed called with invalid callback, ignoring")},offProcessed:function(h){Te.unsubscribe("processed",h)},setReaders:function(h){h?Ie.setReaders(h):console.trace("* warning: Quagga.setReaders called with no readers, ignoring")},registerReader:function(h,x){h?x?Ie.registerReader(h,x):console.trace("* warning: Quagga.registerReader called with no reader, ignoring"):console.trace("* warning: Quagga.registerReader called with no name, ignoring")},registerResultCollector:function(h){h&&typeof h.addResult=="function"&&($e.resultCollector=h)},get canvas(){return $e.canvasContainer},decodeSingle:function(h,x){var l=this,t=new ke;return(h=y()({inputStream:{type:"ImageStream",sequence:!1,size:800,src:h.src},numOfWorkers:1,locator:{halfSample:!1}},h)).numOfWorkers>0&&(h.numOfWorkers=0),h.numOfWorkers>0&&(typeof Blob=="undefined"||typeof Worker=="undefined")&&(console.warn("* no Worker and/or Blob support - forcing numOfWorkers to 0"),h.numOfWorkers=0),new Promise(function(r,n){try{l.init(h,function(){Te.once("processed",function(c){t.stop(),x&&x.call(null,c),r(c)},!0),t.start()},null,t)}catch(c){n(c)}})},get default(){return nt},Readers:a,CameraAccess:Ge,ImageDebug:G.a,ImageWrapper:b.a,ResultCollector:kt};w.default=nt}]).default})})(Rr);var zt=Ur(Rr.exports);const Nr={name:"CameraScannerQuagga",data(){return{code:"",dialog:!1,cameraStatus:0}},methods:{startScanner(){this.cameraStatus=1,zt.init({inputStream:{name:"Live",type:"LiveStream",target:document.querySelector("#scan")},frequency:10,decoder:{readers:["ean_reader"],multiple:!1},numOfWorkers:navigator.hardwareConcurrency},me=>{if(me){console.log(me);return}console.log("Initialization finished. Ready to start"),zt.start(),zt.onDetected(this.onDetected)})},onDetected(me){this.code=me.codeResult.code,this.cameraStatus=0,this.onStop()},onStop(){zt.stop(),this.cameraStatus=0}}},Fr={class:"row items-center",style:{height:"100vh"}},Br={class:"col text-center q-pa-sm"},Wr={key:0,class:"text-h6"},qr={id:"scan"};function Vr(me,De,i,w,e,a){return br(),wr("div",Fr,[Or("div",Br,[gr(mr(xr,{color:"primary",icon:"camera_alt",label:"Leer C\xF3digo de Barras",class:"full-width",size:"lg",onClick:De[0]||(De[0]=u=>a.startScanner())},null,512),[[yr,e.cameraStatus===0]]),e.code?(br(),wr("div",Wr,"Codigo: "+kr(e.code),1)):Pr("",!0),gr(Or("div",qr,null,512),[[yr,e.cameraStatus===1]]),mr(Lr,{position:"bottom-right",offset:[18,18]},{default:Tr(()=>[gr(mr(xr,{icon:"cancel",color:"negative",label:"Cerrar",onClick:a.onStop},null,8,["onClick"]),[[yr,e.cameraStatus===1]])]),_:1})])])}var Qr=jr(Nr,[["render",Vr]]);export{Qr as default};
